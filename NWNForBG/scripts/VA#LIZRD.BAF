IF
	StateCheck(Myself,STATE_REALLY_DEAD)
THEN
	RESPONSE #100
		NoAction()
END

IF
	!GlobalTimerNotExpired("Contingency_Timer","LOCALS")
	DifficultyGT(EASIEST)
	See(NearestEnemyOf(Myself))
	Global("No_Target_Available","LOCALS",0)
THEN
	RESPONSE #100
		ApplySpellRES("RZDISPCH",Myself)  // No such index
		SetGlobalTimer("Contingency_Timer","LOCALS",SIXTEEN_HOURS)
		DisplayString(Myself,@34586)  // ???????????
		SetGlobalTimer("Invisibility_Timer","LOCALS",TWO_TURNS)
		SetGlobal("Invisibility","LOCALS",1)
		SmallWait(1)
		ReallyForceSpell(Myself,WIZARD_IMPROVED_INVISIBILITY)  // SPWI405.SPL (?????????? ???????????)
END

IF
	!HasItem("RZDISPCH",Myself)  // ????
THEN
	RESPONSE #100
		ApplySpellRES("RZDISPCH",Myself)  // No such index
		SetGlobalTimer("Mirror_Image_Timer","LOCALS",0)
		SetGlobalTimer("Invisibility_Timer","LOCALS",0)
		SetGlobalTimer("Defensive_Harmony_Timer","LOCALS",0)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	!GlobalTimerNotExpired("Spell_Sequencer_Timer","LOCALS")
	DifficultyGT(EASIEST)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(NearestEnemyOf(Myself))
	Global("No_Target_Available","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		SetGlobalTimer("Spell_Sequencer_Timer","LOCALS",SIXTEEN_HOURS)
		SetGlobalTimer("Defensive_Harmony_Timer","LOCALS",SIX_ROUNDS)
		SetGlobal("Defensive_Harmony","LOCALS",1)
		DisplayString(Myself,@25951)  // ??????????????????
		SmallWait(1)
		ReallyForceSpell(Myself,WIZARD_MINOR_SPELL_DEFLECTION)  // SPWI318.SPL (????? ?????????? ??????????)
		ReallyForceSpell(Myself,WIZARD_SPIDER_SPAWN)  // SPWI423.SPL (????????? ??????)
		ReallyForceSpell(Myself,CLERIC_DEFENSIVE_HARMONY)  // SPPR406.SPL (???????? ????????)
END

IF
	Global("RZ_Rest","LOCALS",0)
	OR(7)
		Detect([GOODCUTOFF.0.0.0.0.SUMMONED])
		Detect([PC])
		Detect([ALLY])
		Detect([CONTROLLED])
		Detect([CHARMED])
		Detect([FAMILIAR])
		Detect(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SetGlobal("RZ_Rest","LOCALS",1)
		SetGlobalTimer("RZ_Rest_Timer","LOCALS",EIGHT_HOURS)
		Continue()
END

IF
	!GlobalTimerNotExpired("RZ_Rest_Timer","LOCALS")
	!Detect([GOODCUTOFF.0.0.0.0.SUMMONED])
	!Detect([PC])
	!Detect([ALLY])
	!Detect([CONTROLLED])
	!Detect([CHARMED])
	!Detect([FAMILIAR])
	!Detect(NearestEnemyOf(Myself))
	CombatCounter(0)
THEN
	RESPONSE #100
		SetGlobalTimer("RZ_Rest_Timer","LOCALS",TWELVE_HOURS)
		SetGlobal("RZ_Rest","LOCALS",0)
		SetGlobal("Out_of_Spells","LOCALS",0)
		SetGlobal("Out_of_Area_Spells","LOCALS",0)
		ApplySpell(Myself,RESTORE_FULL_HEALTH)  // SPIN746.SPL (No such index)
		Rest()
END

IF
	Global("Out_of_Spells","LOCALS",0)
	CheckStat(Myself,0,POLYMORPHED)
	OR(2)
		DifficultyLT(NORMAL)
		!HaveSpell(CLERIC_CONJURE_ANIMALS)  // SPPR604.SPL (????? ????????)
	OR(2)
		DifficultyLT(NORMAL)
		!HaveSpell(CLERIC_AERIAL_SERVANT)  // SPPR601.SPL (????????? ?????)
	!HaveSpell(CLERIC_POISON)  // SPPR411.SPL (??)
	!HaveSpell(CLERIC_UNHOLY_BLIGHT)  // SPPR314.SPL (?????????? ?????)
	!HaveSpell(CLERIC_ANIMATE_DEAD)  // SPPR301.SPL (???????? ??????)
	!HaveSpell(CLERIC_HOLD_PERSON)  // SPPR208.SPL (????????? ?????????)
	!HaveSpell(CLERIC_DOOM)  // SPPR113.SPL (????????????)
	!HaveSpell(CLERIC_COMMAND)  // SPPR102.SPL (??????)
	!HaveSpell(WIZARD_CHROMATIC_ORB)  // SPWI118.SPL (??????? ?????)
	!HaveSpell(WIZARD_MAGIC_MISSILE)  // SPWI112.SPL (?????????? ??????)
	!HaveSpell(WIZARD_MELF_ACID_ARROW)  // SPWI211.SPL (????????? ?????? ??????)
	!HaveSpell(WIZARD_GLITTERDUST)  // SPWI224.SPL (?????????? ????)
	!HaveSpell(WIZARD_FLAME_ARROW)  // SPWI303.SPL (????????? ??????)
	!HaveSpell(WIZARD_SLOW)  // SPWI312.SPL (??????????)
	!HaveSpell(WIZARD_EMOTION_HOPELESSNESS)  // SPWI411.SPL (??????)
	!HaveSpell(WIZARD_SPIDER_SPAWN)  // SPWI423.SPL (????????? ??????)
	OR(2)
		DifficultyLT(EASY)
		!HaveSpell(WIZARD_CONE_OF_COLD)  // SPWI503.SPL (????? ??????)
	OR(2)
		DifficultyLT(EASY)
		!HaveSpell(WIZARD_CHAOS)  // SPWI508.SPL (????)
	OR(2)
		DifficultyLT(EASY)
		!HaveSpell(WIZARD_MONSTER_SUMMONING_3)  // SPWI504.SPL (?????????? ???????? III)
	OR(2)
		DifficultyLT(NORMAL)
		!HaveSpell(WIZARD_INVISIBLE_STALKER)  // SPWI601.SPL (????????? ???????)
	GlobalTimerNotExpired("Minor_Sequencer_Timer","LOCALS")
THEN
	RESPONSE #100
		SetGlobal("Out_of_Spells","LOCALS",1)
END

IF
	Global("Out_of_Area_Spells","LOCALS",0)
	CheckStat(Myself,0,POLYMORPHED)
	OR(2)
		DifficultyLT(NORMAL)
		!HaveSpell(CLERIC_CONJURE_ANIMALS)  // SPPR604.SPL (????? ????????)
	OR(2)
		DifficultyLT(NORMAL)
		!HaveSpell(CLERIC_AERIAL_SERVANT)  // SPPR601.SPL (????????? ?????)
	!HaveSpell(CLERIC_UNHOLY_BLIGHT)  // SPPR314.SPL (?????????? ?????)
	!HaveSpell(CLERIC_ANIMATE_DEAD)  // SPPR301.SPL (???????? ??????)
	!HaveSpell(WIZARD_GLITTERDUST)  // SPWI224.SPL (?????????? ????)
	!HaveSpell(WIZARD_SLOW)  // SPWI312.SPL (??????????)
	!HaveSpell(WIZARD_EMOTION_HOPELESSNESS)  // SPWI411.SPL (??????)
	!HaveSpell(WIZARD_SPIDER_SPAWN)  // SPWI423.SPL (????????? ??????)
	!HaveSpell(WIZARD_TRUE_DISPEL_MAGIC)  // SPWI326.SPL (??????????? ?????)
	!HaveSpell(CLERIC_SILENCE_15_FOOT)  // SPPR211.SPL (???????? ????????)
	OR(2)
		DifficultyLT(EASY)
		!HaveSpell(WIZARD_CONE_OF_COLD)  // SPWI503.SPL (????? ??????)
	OR(2)
		DifficultyLT(EASY)
		!HaveSpell(WIZARD_CHAOS)  // SPWI508.SPL (????)
	OR(2)
		DifficultyLT(EASY)
		!HaveSpell(WIZARD_MONSTER_SUMMONING_3)  // SPWI504.SPL (?????????? ???????? III)
	OR(2)
		DifficultyLT(NORMAL)
		!HaveSpell(WIZARD_INVISIBLE_STALKER)  // SPWI601.SPL (????????? ???????)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Area_Spells","LOCALS",1)
END

IF
	Global("Out_of_Spells","LOCALS",2)
	DifficultyGT(EASY)
	OR(3)
		HaveSpell(WIZARD_INVISIBLE_STALKER)  // SPWI601.SPL (????????? ???????)
		HaveSpell(CLERIC_AERIAL_SERVANT)  // SPPR601.SPL (????????? ?????)
		HaveSpell(CLERIC_CONJURE_ANIMALS)  // SPPR604.SPL (????? ????????)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Spells","LOCALS",0)
END

IF
	Global("Out_of_Area_Spells","LOCALS",2)
	DifficultyGT(EASY)
	OR(3)
		HaveSpell(WIZARD_INVISIBLE_STALKER)  // SPWI601.SPL (????????? ???????)
		HaveSpell(CLERIC_AERIAL_SERVANT)  // SPPR601.SPL (????????? ?????)
		HaveSpell(CLERIC_CONJURE_ANIMALS)  // SPPR604.SPL (????? ????????)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Area_Spells","LOCALS",0)
END

IF
	Global("Out_of_Spells","LOCALS",3)
	DifficultyGT(EASIEST)
	OR(6)
		HaveSpell(WIZARD_INVISIBLE_STALKER)  // SPWI601.SPL (????????? ???????)
		HaveSpell(CLERIC_AERIAL_SERVANT)  // SPPR601.SPL (????????? ?????)
		HaveSpell(CLERIC_CONJURE_ANIMALS)  // SPPR604.SPL (????? ????????)
		HaveSpell(WIZARD_MONSTER_SUMMONING_3)  // SPWI504.SPL (?????????? ???????? III)
		HaveSpell(WIZARD_CHAOS)  // SPWI508.SPL (????)
		HaveSpell(WIZARD_CONE_OF_COLD)  // SPWI503.SPL (????? ??????)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Spells","LOCALS",0)
END

IF
	Global("Out_of_Area_Spells","LOCALS",3)
	DifficultyGT(EASIEST)
	OR(6)
		HaveSpell(WIZARD_INVISIBLE_STALKER)  // SPWI601.SPL (????????? ???????)
		HaveSpell(CLERIC_AERIAL_SERVANT)  // SPPR601.SPL (????????? ?????)
		HaveSpell(CLERIC_CONJURE_ANIMALS)  // SPPR604.SPL (????? ????????)
		HaveSpell(WIZARD_MONSTER_SUMMONING_3)  // SPWI504.SPL (?????????? ???????? III)
		HaveSpell(WIZARD_CHAOS)  // SPWI508.SPL (????)
		HaveSpell(WIZARD_CONE_OF_COLD)  // SPWI503.SPL (????? ??????)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Area_Spells","LOCALS",0)
END

IF
	OR(2)
		Global("Out_of_Spells","LOCALS",1)
		Global("Out_of_Spells","LOCALS",3)
	Difficulty(EASY)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Spells","LOCALS",2)
END

IF
	OR(2)
		Global("Out_of_Area_Spells","LOCALS",1)
		Global("Out_of_Area_Spells","LOCALS",3)
	Difficulty(EASY)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Area_Spells","LOCALS",2)
END

IF
	OR(2)
		Global("Out_of_Spells","LOCALS",1)
		Global("Out_of_Spells","LOCALS",2)
	Difficulty(EASIEST)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Spells","LOCALS",3)
END

IF
	OR(2)
		Global("Out_of_Area_Spells","LOCALS",1)
		Global("Out_of_Area_Spells","LOCALS",2)
	Difficulty(EASIEST)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Area_Spells","LOCALS",3)
END

IF
	Global("Out_of_Spells","LOCALS",1)
	DifficultyGT(EASY)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Spells","LOCALS",4)
END

IF
	Global("Out_of_Area_Spells","LOCALS",1)
	DifficultyGT(EASY)
THEN
	RESPONSE #100
		SetGlobal("Out_of_Area_Spells","LOCALS",4)
END

IF
	Global("Defensive_Harmony","LOCALS",0)
	SpellCastPriest(Myself,CLERIC_DEFENSIVE_HARMONY)  // SPPR406.SPL (???????? ????????)
THEN
	RESPONSE #100
		SetGlobalTimer("Defensive_Harmony_Timer","LOCALS",SIX_ROUNDS)
		SetGlobal("Defensive_Harmony","LOCALS",1)
		Continue()
END

IF
	SpellCast(Myself,WIZARD_SHADOW_DOOR)  // SPWI505.SPL (??????? ?????)
THEN
	RESPONSE #100
		SetGlobalTimer("Invisibility_Timer","LOCALS",72)
		Continue()
END

IF
	SpellCastPriest(Myself,CLERIC_TRUE_SIGHT)  // SPPR505.SPL (???????? ???????)
THEN
	RESPONSE #100
		SetGlobalTimer("True_Sight_Timer","LOCALS",ONE_TURN)
		Continue()
END

IF
	SpellCast(Myself,WIZARD_MIRROR_IMAGE)  // SPWI212.SPL (?????????? ?????)
THEN
	RESPONSE #100
		SetGlobalTimer("Mirror_Image","LOCALS",EIGHTEEN_MINUTES)
		Continue()
END

IF
	GlobalTimerNotExpired("Mirror_Image","LOCALS")
	!StateCheck(Myself,STATE_MIRRORIMAGE)
THEN
	RESPONSE #100
		SetGlobalTimer("Mirror_Image","LOCALS",0)
		Continue()
END

IF
	Global("Elemental_Attack","LOCALS",0)
	!SpellCastOnMe([GOODCUTOFF],0)
	AttackedBy([GOODCUTOFF],DEFAULT)
	OR(9)
		HitBy([GOODCUTOFF],ACID)
		HitBy([GOODCUTOFF],COLD)
		HitBy([GOODCUTOFF],ELECTRICITY)
		HitBy([GOODCUTOFF],FIRE)
		HitBy([GOODCUTOFF],POISON)
		HitBy([GOODCUTOFF],MAGIC)
		HitBy([GOODCUTOFF],MAGICFIRE)
		HitBy([GOODCUTOFF],MAGICCOLD)
		HitBy([GOODCUTOFF],STUNNING)
THEN
	RESPONSE #100
		SetGlobal("Elemental_Attack","LOCALS",1)
		Continue()
END

IF
	Global("PC_Invisibility","LOCALS",0)
	!GlobalTimerNotExpired("True_Sight_Timer","LOCALS")
	OR(10)
		SpellCast([GOODCUTOFF],WIZARD_PROJECT_IMAGE)  // SPWI703.SPL (??????????????? ?????)
		SpellCast([GOODCUTOFF],WIZARD_MASS_INVISIBILITY)  // SPWI721.SPL (???????? ???????????)
		SpellCast([GOODCUTOFF],WIZARD_MISLEAD)  // SPWI607.SPL (???????????)
		SpellCast([GOODCUTOFF],WIZARD_SHADOW_DOOR)  // SPWI505.SPL (??????? ?????)
		SpellCast([GOODCUTOFF],WIZARD_IMPROVED_INVISIBILITY)  // SPWI405.SPL (?????????? ???????????)
		SpellCast([GOODCUTOFF],WIZARD_INVISIBILITY_10_FOOT)  // SPWI307.SPL (????? ???????? ???????????)
		SpellCast([GOODCUTOFF],WIZARD_INVISIBILITY)  // SPWI206.SPL (???????????)
		SpellCast([GOODCUTOFF],WIZARD_MIRROR_IMAGE)  // SPWI212.SPL (?????????? ?????)
		SpellCastPriest([GOODCUTOFF],CLERIC_PIXIE_DUST)  // SPPR516.SPL (??????? ?????)
		SpellCastPriest([GOODCUTOFF],CLERIC_SANCTUARY)  // SPPR109.SPL (?????????)
THEN
	RESPONSE #100
		SetGlobal("PC_Invisibility","LOCALS",1)
		Continue()
END

IF
	OR(3)
		SpellCast([GOODCUTOFF],WIZARD_TRUE_SIGHT)  // SPWI609.SPL (???????? ???????)
		SpellCastPriest([GOODCUTOFF],CLERIC_TRUE_SIGHT)  // SPPR505.SPL (???????? ???????)
		SpellCastInnate([GOODCUTOFF],INQUIS_TRUE_SIGHT)  // SPCL232.SPL (???????? ???????)
	SpellCastInnate([GOODCUTOFF],HELM_TRUE_SIGHT)  // SPCL732.SPL (???????? ???????)
	SpellCastInnate([GOODCUTOFF],KOA_TRUE_SIGHT_NO_VIS)  // SPIN684.SPL (???????? ???????)
THEN
	RESPONSE #100
		SetGlobalTimer("PC_True_Sight","LOCALS",ONE_TURN)
		SetGlobalTimer("Invisibility_Timer","LOCALS",0)
		SetGlobalTimer("Mirror_Image","LOCALS",0)
END

IF
	!GlobalTimerNotExpired("PC_True_Sight","LOCALS")
	GlobalTimerNotExpired("Invisibility_Timer","LOCALS")
	SpellCastInnate([GOODCUTOFF],0)
	!StateCheck(Myself,STATE_IMPROVEDINVISIBILITY)
	!StateCheck(Myself,STATE_INVISIBLE)
THEN
	RESPONSE #100
		SetGlobalTimer("PC_True_Sight","LOCALS",ONE_TURN)
		SetGlobalTimer("Invisibility_Timer","LOCALS",0)
		SetGlobalTimer("Mirror_Image","LOCALS",0)
END

IF
	!GlobalTimerNotExpired("PC_True_Sight","LOCALS")
	GlobalTimerNotExpired("Mirror_Image","LOCALS")
	SpellCastInnate([GOODCUTOFF],0)
	!StateCheck(Myself,STATE_MIRRORIMAGE)
THEN
	RESPONSE #100
		SetGlobalTimer("PC_True_Sight","LOCALS",ONE_TURN)
		SetGlobalTimer("Invisibility_Timer","LOCALS",0)
		SetGlobalTimer("Mirror_Image","LOCALS",0)
END

IF
	Global("Elemental_Attack","LOCALS",0)
	!SpellCastOnMe([GOODCUTOFF],0)
	AttackedBy([GOODCUTOFF],DEFAULT)
	OR(9)
		HitBy([GOODCUTOFF],ACID)
		HitBy([GOODCUTOFF],COLD)
		HitBy([GOODCUTOFF],ELECTRICITY)
		HitBy([GOODCUTOFF],FIRE)
		HitBy([GOODCUTOFF],POISON)
		HitBy([GOODCUTOFF],MAGIC)
		HitBy([GOODCUTOFF],MAGICFIRE)
		HitBy([GOODCUTOFF],MAGICCOLD)
		HitBy([GOODCUTOFF],STUNNING)
THEN
	RESPONSE #100
		NoAction()
END

IF
	Global("PC_Invisibility","LOCALS",0)
	!GlobalTimerNotExpired("True_Sight_Timer","LOCALS")
	OR(10)
		SpellCast([GOODCUTOFF],WIZARD_PROJECT_IMAGE)  // SPWI703.SPL (??????????????? ?????)
		SpellCast([GOODCUTOFF],WIZARD_MASS_INVISIBILITY)  // SPWI721.SPL (???????? ???????????)
		SpellCast([GOODCUTOFF],WIZARD_MISLEAD)  // SPWI607.SPL (???????????)
		SpellCast([GOODCUTOFF],WIZARD_SHADOW_DOOR)  // SPWI505.SPL (??????? ?????)
		SpellCast([GOODCUTOFF],WIZARD_IMPROVED_INVISIBILITY)  // SPWI405.SPL (?????????? ???????????)
		SpellCast([GOODCUTOFF],WIZARD_INVISIBILITY_10_FOOT)  // SPWI307.SPL (????? ???????? ???????????)
		SpellCast([GOODCUTOFF],WIZARD_INVISIBILITY)  // SPWI206.SPL (???????????)
		SpellCast([GOODCUTOFF],WIZARD_MIRROR_IMAGE)  // SPWI212.SPL (?????????? ?????)
		SpellCastPriest([GOODCUTOFF],CLERIC_PIXIE_DUST)  // SPPR516.SPL (??????? ?????)
		SpellCastPriest([GOODCUTOFF],CLERIC_SANCTUARY)  // SPPR109.SPL (?????????)
THEN
	RESPONSE #100
		NoAction()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_VOCALIZE)  // SPWI219.SPL (???????????)
	CheckStat(Myself,0,POLYMORPHED)
	StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,WIZARD_VOCALIZE)  // SPWI219.SPL (???????????)
END

IF
	OR(3)
		!Allegiance(Myself,ENEMY)
		StateCheck(Myself,STATE_DISABLED)
		StateCheck(Myself,STATE_BERSERK)
THEN
	RESPONSE #100
		NoAction()
END

IF
	Global("RZ_See_Enemy","LOCALS",0)
	OR(19)
		See(NearestEnemyOf(Myself))
		AttackedBy([GOODCUTOFF.0.0.0.0.SUMMONED],DEFAULT)
		AttackedBy([PC],DEFAULT)
		AttackedBy([FAMILIAR],DEFAULT)
		AttackedBy([ALLY],DEFAULT)
		AttackedBy([CONTROLLED],DEFAULT)
		AttackedBy([CHARMED],DEFAULT)
		HitBy([GOODCUTOFF.0.0.0.0.SUMMONED],CRUSHING)
		HitBy([PC],CRUSHING)
		HitBy([FAMILIAR],CRUSHING)
		HitBy([ALLY],CRUSHING)
		HitBy([CONTROLLED],CRUSHING)
		HitBy([CHARMED],CRUSHING)
		SpellCastOnMe([GOODCUTOFF.0.0.0.0.SUMMONED],0)
		SpellCastOnMe([PC],0)
		SpellCastOnMe([FAMILIAR],0)
		SpellCastOnMe([ALLY],0)
		SpellCastOnMe([CONTROLLED],0)
		SpellCastOnMe([CHARMED],0)
THEN
	RESPONSE #100
		SetGlobal("RZ_See_Enemy","LOCALS",1)
		Shout(ALERT_100)
END

IF
	!GlobalTimerNotExpired("RZ_Call_For_Help","LOCALS")
	HPPercentLT(Myself,70)
	OR(2)
		AttackedBy([GOODCUTOFF],DEFAULT)
		HitBy([GOODCUTOFF],CRUSHING)
	See(LastAttackerOf(Myself))
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("RZ_Call_For_Help","LOCALS",THREE_ROUNDS)
		Shout(HELP101)
		Continue()
END

IF
	Global("RZ_Move_To_PC","LOCALS",1)
	OR(2)
		!CheckStat(Player1,0,SANCTUARY)
		StateCheck(Player1,STATE_INVISIBLE)
	OR(3)
		!CheckStat(Player2,0,SANCTUARY)
		StateCheck(Player2,STATE_INVISIBLE)
		HPLT(Player2,1)
	OR(3)
		!CheckStat(Player3,0,SANCTUARY)
		StateCheck(Player3,STATE_INVISIBLE)
		HPLT(Player3,1)
	OR(3)
		!CheckStat(Player4,0,SANCTUARY)
		StateCheck(Player4,STATE_INVISIBLE)
		HPLT(Player4,1)
	OR(3)
		!CheckStat(Player5,0,SANCTUARY)
		StateCheck(Player5,STATE_INVISIBLE)
		HPLT(Player5,1)
	OR(3)
		!CheckStat(Player6,0,SANCTUARY)
		StateCheck(Player6,STATE_INVISIBLE)
		HPLT(Player6,1)
THEN
	RESPONSE #100
		SetGlobal("RZ_Move_To_PC","LOCALS",0)
		ClearActions(Myself)
END

IF
	Global("RZ_Move_To_PC","LOCALS",0)
	Global("RZ_See_Enemy","LOCALS",0)
	OR(2)
		Heard([ENEMY],ALERT_100)
		Heard([ENEMY],HELP101)
	!Range(LastHeardBy(Myself),0)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("No_Target_Available","LOCALS",1)
THEN
	RESPONSE #100
		SetGlobal("RZ_Move_To_PC","LOCALS",1)
		MoveToObject(LastHeardBy(Myself))
END

IF
	Global("RZ_Move_To_PC","LOCALS",1)
	OR(2)
		ActionListEmpty()
		Detect(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SetGlobal("RZ_Move_To_PC","LOCALS",0)
		ClearActions(Myself)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_STONE_SKIN)  // SPWI408.SPL (???????? ????)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("RZ_Move_To_PC","LOCALS",1)
	OR(2)
		AttackedBy([GOODCUTOFF],DEFAULT)
		!StateCheck(Myself,STATE_INVISIBLE)
	CheckStatLT(Myself,2,STONESKINS)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,WIZARD_STONE_SKIN)  // SPWI408.SPL (???????? ????)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_ZONE_OF_SWEET_AIR)  // SPPR318.SPL (???? ??????? ???????)
	OR(4)
		SpellCast([ANYONE],WIZARD_STINKING_CLOUD)  // SPWI213.SPL (????????? ??????)
		SpellCast([ANYONE],WIZARD_CLOUDKILL)  // SPWI502.SPL (???????????? ??????)
		SpellCast([ANYONE],WIZARD_DEATH_FOG)  // SPWI614.SPL (????? ??????)
		SpellCast([ANYONE],WIZARD_INCENDIARY_CLOUD)  // SPWI810.SPL (?????? ??????)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,CLERIC_ZONE_OF_SWEET_AIR)  // SPPR318.SPL (???? ??????? ???????)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_MASS_CURE)  // SPPR514.SPL (???????? ???????)
	DifficultyGT(EASIEST)
	OR(2)
		GlobalTimerNotExpired("Spell_Trigger_Timer","LOCALS")
		DifficultyLT(NORMAL)
	HPPercentLT(Myself,70)
	OR(3)
		CheckStatGT(Myself,1,STONESKINS)
		!HaveSpell(WIZARD_STONE_SKIN)  // SPWI408.SPL (???????? ????)
		StateCheck(Myself,STATE_MIRRORIMAGE)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,CLERIC_MASS_CURE)  // SPPR514.SPL (???????? ???????)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	!GlobalTimerNotExpired("True_Sight_Timer","LOCALS")
	HaveSpell(CLERIC_TRUE_SIGHT)  // SPPR505.SPL (???????? ???????)
	DifficultyGT(EASIEST)
	Detect([GOODCUTOFF])
	OR(2)
		!See(NearestEnemyOf(Myself))
		StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,CLERIC_TRUE_SIGHT)  // SPPR505.SPL (???????? ???????)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_INVISIBLE_STALKER)  // SPWI601.SPL (????????? ???????)
	DifficultyGT(EASY)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("RZ_Move_To_PC","LOCALS",1)
	NumCreatureLT([ENEMY.0.0.0.0.SUMMONED],5)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,WIZARD_INVISIBLE_STALKER)  // SPWI601.SPL (????????? ???????)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_ANIMATE_DEAD)  // SPPR301.SPL (???????? ??????)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("RZ_Move_To_PC","LOCALS",1)
	NumCreatureLT([ENEMY.0.0.0.0.SUMMONED],5)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,CLERIC_ANIMATE_DEAD)  // SPPR301.SPL (???????? ??????)
END

IF
	Global("RZ_See_Enemy","LOCALS",0)
	Global("RZ_Move_To_PC","LOCALS",0)
THEN
	RESPONSE #100
		RandomWalk()
END

IF
	Global("Out_of_Area_Spells","LOCALS",0)
	!HasItem("RZSEEINV",Myself)  // ?????????? ??????
	OR(2)
		!GlobalTimerNotExpired("Action_Timer","LOCALS")
		ActionListEmpty()
THEN
	RESPONSE #100
		CreateItem("RZSEEINV",0,0,0)  // ?????????? ??????
		FillSlot(SLOT_BOOTS)
		Continue()
END

IF
	Global("Out_of_Area_Spells","LOCALS",0)
	Global("No_Target_Available","LOCALS",0)
	HasItem("RZSEEINV",Myself)  // ?????????? ??????
	See([GOODCUTOFF])
	StateCheck([GOODCUTOFF],STATE_INVISIBLE)
	CheckStat([GOODCUTOFF],0,SANCTUARY)
	CheckStat([GOODCUTOFF],0,SHIELDGLOBE)
	CheckStat([GOODCUTOFF],0,MINORGLOBE)
	See(SecondNearest([GOODCUTOFF]))
	StateCheck(SecondNearest([GOODCUTOFF]),STATE_INVISIBLE)
	CheckStat(SecondNearest([GOODCUTOFF]),0,SANCTUARY)
	CheckStat(SecondNearest([GOODCUTOFF]),0,SHIELDGLOBE)
	CheckStat(SecondNearest([GOODCUTOFF]),0,MINORGLOBE)
	See(ThirdNearest([GOODCUTOFF]))
	StateCheck(ThirdNearest([GOODCUTOFF]),STATE_INVISIBLE)
	CheckStat(ThirdNearest([GOODCUTOFF]),0,SANCTUARY)
	CheckStat(ThirdNearest([GOODCUTOFF]),0,SHIELDGLOBE)
	CheckStat(ThirdNearest([GOODCUTOFF]),0,MINORGLOBE)
	See(FourthNearest([GOODCUTOFF]))
	StateCheck(FourthNearest([GOODCUTOFF]),STATE_INVISIBLE)
	CheckStat(FourthNearest([GOODCUTOFF]),0,SANCTUARY)
	CheckStat(FourthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
	CheckStat(FourthNearest([GOODCUTOFF]),0,MINORGLOBE)
	See(FifthNearest([GOODCUTOFF]))
	StateCheck(FifthNearest([GOODCUTOFF]),STATE_INVISIBLE)
	CheckStat(FifthNearest([GOODCUTOFF]),0,SANCTUARY)
	CheckStat(FifthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
	CheckStat(FifthNearest([GOODCUTOFF]),0,MINORGLOBE)
	See(SixthNearest([GOODCUTOFF]))
	StateCheck(SixthNearest([GOODCUTOFF]),STATE_INVISIBLE)
	CheckStat(SixthNearest([GOODCUTOFF]),0,SANCTUARY)
	CheckStat(SixthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
	CheckStat(SixthNearest([GOODCUTOFF]),0,MINORGLOBE)
	See(SeventhNearest([GOODCUTOFF]))
	StateCheck(SeventhNearest([GOODCUTOFF]),STATE_INVISIBLE)
	CheckStat(SeventhNearest([GOODCUTOFF]),0,SANCTUARY)
	CheckStat(SeventhNearest([GOODCUTOFF]),0,SHIELDGLOBE)
	CheckStat(SeventhNearest([GOODCUTOFF]),0,MINORGLOBE)
	See(EighthNearest([GOODCUTOFF]))
	StateCheck(EighthNearest([GOODCUTOFF]),STATE_INVISIBLE)
	CheckStat(EighthNearest([GOODCUTOFF]),0,SANCTUARY)
	CheckStat(EighthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
	CheckStat(EighthNearest([GOODCUTOFF]),0,MINORGLOBE)
	See(NinthNearest([GOODCUTOFF]))
	StateCheck(NinthNearest([GOODCUTOFF]),STATE_INVISIBLE)
	CheckStat(NinthNearest([GOODCUTOFF]),0,SANCTUARY)
	CheckStat(NinthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
	CheckStat(NinthNearest([GOODCUTOFF]),0,MINORGLOBE)
	See(TenthNearest([GOODCUTOFF]))
	StateCheck(TenthNearest([GOODCUTOFF]),STATE_INVISIBLE)
	CheckStat(TenthNearest([GOODCUTOFF]),0,SANCTUARY)
	CheckStat(TenthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
	CheckStat(TenthNearest([GOODCUTOFF]),0,MINORGLOBE)
THEN
	RESPONSE #100
		SetGlobal("No_Target_Available","LOCALS",1)
END

IF
	Global("No_Target_Available","LOCALS",1)
	See([GOODCUTOFF])
	OR(40)
		!StateCheck([GOODCUTOFF],STATE_INVISIBLE)
		!CheckStat([GOODCUTOFF],0,SANCTUARY)
		!CheckStat([GOODCUTOFF],0,SHIELDGLOBE)
		!CheckStat([GOODCUTOFF],0,MINORGLOBE)
		!StateCheck(SecondNearest([GOODCUTOFF]),STATE_INVISIBLE)
		!CheckStat(SecondNearest([GOODCUTOFF]),0,SANCTUARY)
		!CheckStat(SecondNearest([GOODCUTOFF]),0,SHIELDGLOBE)
		!CheckStat(SecondNearest([GOODCUTOFF]),0,MINORGLOBE)
		!StateCheck(ThirdNearest([GOODCUTOFF]),STATE_INVISIBLE)
		!CheckStat(ThirdNearest([GOODCUTOFF]),0,SANCTUARY)
		!CheckStat(ThirdNearest([GOODCUTOFF]),0,SHIELDGLOBE)
		!CheckStat(ThirdNearest([GOODCUTOFF]),0,MINORGLOBE)
		!StateCheck(FourthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		!CheckStat(FourthNearest([GOODCUTOFF]),0,SANCTUARY)
		!CheckStat(FourthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
		!CheckStat(FourthNearest([GOODCUTOFF]),0,MINORGLOBE)
		!StateCheck(FifthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		!CheckStat(FifthNearest([GOODCUTOFF]),0,SANCTUARY)
		!CheckStat(FifthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
		!CheckStat(FifthNearest([GOODCUTOFF]),0,MINORGLOBE)
		!StateCheck(SixthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		!CheckStat(SixthNearest([GOODCUTOFF]),0,SANCTUARY)
		!CheckStat(SixthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
		!CheckStat(SixthNearest([GOODCUTOFF]),0,MINORGLOBE)
		!StateCheck(SeventhNearest([GOODCUTOFF]),STATE_INVISIBLE)
		!CheckStat(SeventhNearest([GOODCUTOFF]),0,SANCTUARY)
		!CheckStat(SeventhNearest([GOODCUTOFF]),0,SHIELDGLOBE)
		!CheckStat(SeventhNearest([GOODCUTOFF]),0,MINORGLOBE)
		!StateCheck(EighthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		!CheckStat(EighthNearest([GOODCUTOFF]),0,SANCTUARY)
		!CheckStat(EighthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
		!CheckStat(EighthNearest([GOODCUTOFF]),0,MINORGLOBE)
		!StateCheck(NinthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		!CheckStat(NinthNearest([GOODCUTOFF]),0,SANCTUARY)
		!CheckStat(NinthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
		!CheckStat(NinthNearest([GOODCUTOFF]),0,MINORGLOBE)
		!StateCheck(TenthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		!CheckStat(TenthNearest([GOODCUTOFF]),0,SANCTUARY)
		!CheckStat(TenthNearest([GOODCUTOFF]),0,SHIELDGLOBE)
		!CheckStat(TenthNearest([GOODCUTOFF]),0,MINORGLOBE)
THEN
	RESPONSE #100
		SetGlobal("No_Target_Available","LOCALS",0)
END

IF
	Global("RZ_Move_To_PC","LOCALS",1)
THEN
	RESPONSE #100
END

IF
	Global("RZ_Move_To_PC","LOCALS",0)
	Global("RZ_See_Enemy","LOCALS",1)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("No_Target_Available","LOCALS",1)
	!HPLT(Player1,1)
	CheckStat(Player1,0,SANCTUARY)
	!StateCheck(Player1,STATE_INVISIBLE)
THEN
	RESPONSE #100
		SetGlobal("RZ_Move_To_PC","LOCALS",1)
		MoveToObject(Player1)
END

IF
	Global("RZ_Move_To_PC","LOCALS",0)
	Global("RZ_See_Enemy","LOCALS",1)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("No_Target_Available","LOCALS",1)
	!HPLT(Player2,1)
	CheckStat(Player2,0,SANCTUARY)
	!StateCheck(Player2,STATE_INVISIBLE)
THEN
	RESPONSE #100
		SetGlobal("RZ_Move_To_PC","LOCALS",1)
		MoveToObject(Player2)
END

IF
	Global("RZ_Move_To_PC","LOCALS",0)
	Global("RZ_See_Enemy","LOCALS",1)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("No_Target_Available","LOCALS",1)
	!HPLT(Player3,1)
	CheckStat(Player3,0,SANCTUARY)
	!StateCheck(Player3,STATE_INVISIBLE)
THEN
	RESPONSE #100
		SetGlobal("RZ_Move_To_PC","LOCALS",1)
		MoveToObject(Player3)
END

IF
	Global("RZ_Move_To_PC","LOCALS",0)
	Global("RZ_See_Enemy","LOCALS",1)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("No_Target_Available","LOCALS",1)
	!HPLT(Player4,1)
	CheckStat(Player4,0,SANCTUARY)
	!StateCheck(Player4,STATE_INVISIBLE)
THEN
	RESPONSE #100
		SetGlobal("RZ_Move_To_PC","LOCALS",1)
		MoveToObject(Player4)
END

IF
	Global("RZ_Move_To_PC","LOCALS",0)
	Global("RZ_See_Enemy","LOCALS",1)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("No_Target_Available","LOCALS",1)
	!HPLT(Player5,1)
	CheckStat(Player5,0,SANCTUARY)
	!StateCheck(Player5,STATE_INVISIBLE)
THEN
	RESPONSE #100
		SetGlobal("RZ_Move_To_PC","LOCALS",1)
		MoveToObject(Player5)
END

IF
	Global("RZ_Move_To_PC","LOCALS",0)
	Global("RZ_See_Enemy","LOCALS",1)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("No_Target_Available","LOCALS",1)
	!HPLT(Player6,1)
	CheckStat(Player6,0,SANCTUARY)
	!StateCheck(Player6,STATE_INVISIBLE)
THEN
	RESPONSE #100
		SetGlobal("RZ_Move_To_PC","LOCALS",1)
		MoveToObject(Player6)
END

IF
	Global("RZ_Move_To_PC","LOCALS",0)
	!Global("RZ_See_Enemy","LOCALS",0)
	OR(2)
		!See(NearestEnemyOf(Myself))
		Global("No_Target_Available","LOCALS",1)
	OR(2)
		GlobalTimerNotExpired("True_Sight_Timer","LOCALS")
		!HaveSpell(CLERIC_TRUE_SIGHT)  // SPPR505.SPL (???????? ???????)
THEN
	RESPONSE #100
		RandomWalkContinuous()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	!GlobalTimerNotExpired("Spell_Trigger_Timer","LOCALS")
	DifficultyGT(EASY)
	HPPercentLT(Myself,45)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(NearestEnemyOf(Myself))
	Global("No_Target_Available","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DisplayString(Myself,@26243)  // ?????????? ??????????
		SetGlobalTimer("Spell_Trigger_Timer","LOCALS",SIXTEEN_HOURS)
		SetGlobalTimer("PfMW_Timer","LOCALS",FOUR_ROUNDS)
		SmallWait(1)
		ReallyForceSpell(Myself,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)  // SPWI611.SPL (?????? ?? ??????????? ??????)
		ReallyForceSpell(Myself,CLERIC_PHYSICAL_MIRROR)  // SPPR613.SPL (???????????? ???????)
		ReallyForceSpell(Myself,CLERIC_HEAL)  // SPPR607.SPL (?????????)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_STONE_SKIN)  // SPWI408.SPL (???????? ????)
	CheckStatLT(Myself,2,STONESKINS)
	OR(2)
		AttackedBy([GOODCUTOFF],DEFAULT)
		!StateCheck(Myself,STATE_INVISIBLE)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,WIZARD_STONE_SKIN)  // SPWI408.SPL (???????? ????)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_SHADOW_DOOR)  // SPWI505.SPL (??????? ?????)
	DifficultyGT(EASIEST)
	!GlobalTimerNotExpired("PC_True_Sight","LOCALS")
	!StateCheck(Myself,STATE_IMPROVEDINVISIBILITY)
	!StateCheck(Myself,STATE_INVISIBLE)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(NearestEnemyOf(Myself))
	Global("No_Target_Available","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		SetGlobal("Invisibility","LOCALS",0)
		Spell(Myself,WIZARD_SHADOW_DOOR)  // SPWI505.SPL (??????? ?????)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_MIRROR_IMAGE)  // SPWI212.SPL (?????????? ?????)
	!StateCheck(Myself,STATE_MIRRORIMAGE)
	!GlobalTimerNotExpired("PC_True_Sight","LOCALS")
	!GlobalTimerNotExpired("PfMW_Timer","LOCALS")
	OR(2)
		AttackedBy([GOODCUTOFF],DEFAULT)
		!StateCheck(Myself,STATE_INVISIBLE)
	OR(2)
		CheckStatLT(Myself,2,STONESKINS)
		Global("Elemental_Attack","LOCALS",1)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(NearestEnemyOf(Myself))
	Global("No_Target_Available","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,WIZARD_MIRROR_IMAGE)  // SPWI212.SPL (?????????? ?????)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_REFLECTED_IMAGE)  // SPWI120.SPL (?????????? ?????)
	!StateCheck(Myself,STATE_MIRRORIMAGE)
	!GlobalTimerNotExpired("PC_True_Sight","LOCALS")
	!GlobalTimerNotExpired("PfMW_Timer","LOCALS")
	OR(2)
		AttackedBy([GOODCUTOFF],DEFAULT)
		!StateCheck(Myself,STATE_INVISIBLE)
	OR(2)
		CheckStatLT(Myself,2,STONESKINS)
		Global("Elemental_Attack","LOCALS",1)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(NearestEnemyOf(Myself))
	Global("No_Target_Available","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,WIZARD_REFLECTED_IMAGE)  // SPWI120.SPL (?????????? ?????)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_SHIELD)  // SPWI114.SPL (???)
	!StateCheck(Myself,STATE_INVISIBLE)
	!HasBounceEffects(Myself)
	!HasImmunityEffects(Myself)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,WIZARD_SHIELD)  // SPWI114.SPL (???)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_PROTECT_FROM_EVIL)  // SPPR107.SPL (?????? ?? ???)
	Detect([0.0.0.0.0.SUMMONED_DEMON])
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,CLERIC_PROTECT_FROM_EVIL)  // SPPR107.SPL (?????? ?? ???)
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_TRUE_SIGHT)  // SPPR505.SPL (???????? ???????)
	!GlobalTimerNotExpired("True_Sight_Timer","LOCALS")
	OR(32)
		Detect([GOODCUTOFF.0.0.0.0.ILLUSIONARY])
		Global("PC_Invisibility","LOCALS",1)
		StateCheck([GOODCUTOFF],STATE_INVISIBLE)
		StateCheck([GOODCUTOFF],STATE_IMPROVEDINVISIBILITY)
		StateCheck([GOODCUTOFF],STATE_MIRRORIMAGE)
		StateCheck(SecondNearest([GOODCUTOFF]),STATE_INVISIBLE)
		StateCheck(SecondNearest([GOODCUTOFF]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SecondNearest([GOODCUTOFF]),STATE_MIRRORIMAGE)
		StateCheck(ThirdNearest([GOODCUTOFF]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([GOODCUTOFF]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(ThirdNearest([GOODCUTOFF]),STATE_MIRRORIMAGE)
		StateCheck(FourthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		StateCheck(FourthNearest([GOODCUTOFF]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FourthNearest([GOODCUTOFF]),STATE_MIRRORIMAGE)
		StateCheck(FifthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		StateCheck(FifthNearest([GOODCUTOFF]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FifthNearest([GOODCUTOFF]),STATE_MIRRORIMAGE)
		StateCheck(SixthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		StateCheck(SixthNearest([GOODCUTOFF]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SixthNearest([GOODCUTOFF]),STATE_MIRRORIMAGE)
		StateCheck(SeventhNearest([GOODCUTOFF]),STATE_INVISIBLE)
		StateCheck(SeventhNearest([GOODCUTOFF]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SeventhNearest([GOODCUTOFF]),STATE_MIRRORIMAGE)
		StateCheck(EighthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		StateCheck(EighthNearest([GOODCUTOFF]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(EighthNearest([GOODCUTOFF]),STATE_MIRRORIMAGE)
		StateCheck(NinthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		StateCheck(NinthNearest([GOODCUTOFF]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(NinthNearest([GOODCUTOFF]),STATE_MIRRORIMAGE)
		StateCheck(TenthNearest([GOODCUTOFF]),STATE_INVISIBLE)
		StateCheck(TenthNearest([GOODCUTOFF]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(TenthNearest([GOODCUTOFF]),STATE_MIRRORIMAGE)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(Myself,CLERIC_TRUE_SIGHT)  // SPPR505.SPL (???????? ???????)
END

IF
	Global("No_Target_Available","LOCALS",1)
THEN
	RESPONSE #100
		NoAction()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_DEFENSIVE_HARMONY)  // SPPR406.SPL (???????? ????????)
	!GlobalTimerNotExpired("Defensive_Harmony_Timer","LOCALS")
	OR(2)
		!Global("Out_of_Spells","LOCALS",0)
		!GlobalTimerNotExpired("Cleric_Defence_Timer","LOCALS")
	OR(2)
		Range(NearestEnemyOf(Myself),10)
		!HaveSpell(WIZARD_STONE_SKIN)  // SPWI408.SPL (???????? ????)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		SetGlobal("Defensive_Harmony","LOCALS",0)
		SetGlobalTimer("Cleric_Defence_Timer","LOCALS",FIVE_ROUNDS)
		Spell(Myself,CLERIC_DEFENSIVE_HARMONY)  // SPPR406.SPL (???????? ????????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_FREE_ACTION)  // SPPR403.SPL (??????? ????????)
	OR(2)
		!Global("Out_of_Spells","LOCALS",0)
		!GlobalTimerNotExpired("Cleric_Defence_Timer","LOCALS")
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		SetGlobalTimer("Cleric_Defence_Timer","LOCALS",FIVE_ROUNDS)
		Spell(Myself,CLERIC_FREE_ACTION)  // SPPR403.SPL (??????? ????????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_ARMOR_OF_FAITH)  // SPPR111.SPL (?????? ????)
	OR(2)
		!Global("Out_of_Spells","LOCALS",0)
		!GlobalTimerNotExpired("Cleric_Defence_Timer","LOCALS")
	OR(2)
		AttackedBy([GOODCUTOFF],DEFAULT)
		!StateCheck(Myself,STATE_INVISIBLE)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		SetGlobalTimer("Cleric_Defence_Timer","LOCALS",FIVE_ROUNDS)
		Spell(Myself,CLERIC_ARMOR_OF_FAITH)  // SPPR111.SPL (?????? ????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_MAGIC_MISSILE)  // SPWI112.SPL (?????????? ??????)
	See([GOODCUTOFF.0.0.0.0.SUMMONED])
	CheckStatGT(LastSeenBy(Myself),70,RESISTSLASHING)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		Spell(LastSeenBy(Myself),WIZARD_MAGIC_MISSILE)  // SPWI112.SPL (?????????? ??????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_HASTE)  // SPWI305.SPL (?????????)
	NumCreatureGT([ENEMY],3)
	See(SecondNearest([ENEMY]))
	!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),WIZARD_HASTE)  // SPWI305.SPL (?????????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_STRENGTH_OF_ONE)  // SPPR312.SPL (???? ???????)
	OR(2)
		!Global("Out_of_Spells","LOCALS",0)
		!GlobalTimerNotExpired("Cleric_Defence_Timer","LOCALS")
	NumCreatureGT([ENEMY],3)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		SetGlobalTimer("Cleric_Defence_Timer","LOCALS",THREE_ROUNDS)
		Spell(Myself,CLERIC_STRENGTH_OF_ONE)  // SPPR312.SPL (???? ???????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_CHANT)  // SPPR203.SPL (?????)
	OR(2)
		!Global("Out_of_Spells","LOCALS",0)
		!GlobalTimerNotExpired("Cleric_Defence_Timer","LOCALS")
	NumCreatureGT([ENEMY],3)
	See(SecondNearest([ENEMY]))
	!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		SetGlobalTimer("Cleric_Defence_Timer","LOCALS",THREE_ROUNDS)
		Spell(LastSeenBy(Myself),CLERIC_CHANT)  // SPPR203.SPL (?????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_BLESS)  // SPPR101.SPL (?????????????)
	OR(2)
		!Global("Out_of_Spells","LOCALS",0)
		!GlobalTimerNotExpired("Cleric_Defence_Timer","LOCALS")
	See(NearestEnemyOf(Myself))
	NumCreatureGT([ENEMY],3)
	See(SecondNearest([ENEMY]))
	!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		SetGlobalTimer("Cleric_Defence_Timer","LOCALS",THREE_ROUNDS)
		Spell(LastSeenBy(Myself),CLERIC_BLESS)  // SPPR101.SPL (?????????????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_REMOVE_FEAR)  // SPPR108.SPL (?????? ??????)
	OR(2)
		!Global("Out_of_Spells","LOCALS",0)
		!GlobalTimerNotExpired("Cleric_Defence_Timer","LOCALS")
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		SetGlobalTimer("Cleric_Defence_Timer","LOCALS",FIVE_ROUNDS)
		Spell(Myself,CLERIC_REMOVE_FEAR)  // SPPR108.SPL (?????? ??????)
	RESPONSE #100
		Continue()
END

IF
	See(Myself)
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_TRUE_DISPEL_MAGIC)  // SPWI326.SPL (??????????? ?????)
	!GlobalTimerNotExpired("Dispel_Timer","LOCALS")
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck([GOODCUTOFF],STATE_DISABLED)
	!StateCheck(SecondNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(ThirdNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(FourthNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(FifthNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(SixthNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(SeventhNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(EighthNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(NinthNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(TenthNearest([GOODCUTOFF]),STATE_DISABLED)
	See(NearestEnemyOf(Myself))
	OR(6)
		!See([PC])
		CheckStat([PC],0,STONESKINS)
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_DISABLED)
	OR(6)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,STONESKINS)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,STONESKINS)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,STONESKINS)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,STONESKINS)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,STONESKINS)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See([PC])
		!HasImmunityEffects([PC])
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_DISABLED)
	OR(6)
		!See(SecondNearest([PC]))
		!HasImmunityEffects(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(ThirdNearest([PC]))
		!HasImmunityEffects(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(FourthNearest([PC]))
		!HasImmunityEffects(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(FifthNearest([PC]))
		!HasImmunityEffects(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(SixthNearest([PC]))
		!HasImmunityEffects(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See([PC])
		!HasBounceEffects([PC])
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_DISABLED)
	OR(6)
		!See(SecondNearest([PC]))
		!HasBounceEffects(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(ThirdNearest([PC]))
		!HasBounceEffects(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(FourthNearest([PC]))
		!HasBounceEffects(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(FifthNearest([PC]))
		!HasBounceEffects(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(SixthNearest([PC]))
		!HasBounceEffects(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See([PC])
		!StateCheck([PC],RZ_STATE_DISPEL)
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_DISABLED)
	OR(6)
		!See(SecondNearest([PC]))
		!StateCheck(SecondNearest([PC]),RZ_STATE_DISPEL)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(ThirdNearest([PC]))
		!StateCheck(ThirdNearest([PC]),RZ_STATE_DISPEL)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(FourthNearest([PC]))
		!StateCheck(FourthNearest([PC]),RZ_STATE_DISPEL)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(FifthNearest([PC]))
		!StateCheck(FifthNearest([PC]),RZ_STATE_DISPEL)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(6)
		!See(SixthNearest([PC]))
		!StateCheck(SixthNearest([PC]),RZ_STATE_DISPEL)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See([PC])
		CheckStat([PC],0,STONESKINS)
		StateCheck([PC],STATE_INVISIBLE)
		!StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		StateCheck([PC],STATE_DISABLED)
	OR(5)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,STONESKINS)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,STONESKINS)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		!StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,STONESKINS)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,STONESKINS)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,STONESKINS)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See([PC])
		!HasImmunityEffects([PC])
		StateCheck([PC],STATE_INVISIBLE)
		!StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		StateCheck([PC],STATE_DISABLED)
	OR(5)
		!See(SecondNearest([PC]))
		!HasImmunityEffects(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(ThirdNearest([PC]))
		!HasImmunityEffects(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		!StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(FourthNearest([PC]))
		!HasImmunityEffects(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(FifthNearest([PC]))
		!HasImmunityEffects(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(SixthNearest([PC]))
		!HasImmunityEffects(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See([PC])
		!HasBounceEffects([PC])
		StateCheck([PC],STATE_INVISIBLE)
		!StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		StateCheck([PC],STATE_DISABLED)
	OR(5)
		!See(SecondNearest([PC]))
		!HasBounceEffects(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(ThirdNearest([PC]))
		!HasBounceEffects(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		!StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(FourthNearest([PC]))
		!HasBounceEffects(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(FifthNearest([PC]))
		!HasBounceEffects(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(SixthNearest([PC]))
		!HasBounceEffects(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See([PC])
		!StateCheck([PC],RZ_STATE_DISPEL)
		StateCheck([PC],STATE_INVISIBLE)
		!StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		StateCheck([PC],STATE_DISABLED)
	OR(5)
		!See(SecondNearest([PC]))
		!StateCheck(SecondNearest([PC]),RZ_STATE_DISPEL)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(ThirdNearest([PC]))
		!StateCheck(ThirdNearest([PC]),RZ_STATE_DISPEL)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		!StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(FourthNearest([PC]))
		!StateCheck(FourthNearest([PC]),RZ_STATE_DISPEL)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(FifthNearest([PC]))
		!StateCheck(FifthNearest([PC]),RZ_STATE_DISPEL)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(5)
		!See(SixthNearest([PC]))
		!StateCheck(SixthNearest([PC]),RZ_STATE_DISPEL)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See([PC])
		CheckStat([PC],0,STONESKINS)
		CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_DISABLED)
	OR(4)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,STONESKINS)
		CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,STONESKINS)
		CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,STONESKINS)
		CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,STONESKINS)
		CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,STONESKINS)
		CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See([PC])
		!HasImmunityEffects([PC])
		CheckStat(Nearest([PC]),0,SANCTUARY)
		StateCheck([PC],STATE_DISABLED)
	OR(4)
		!See(SecondNearest([PC]))
		!HasImmunityEffects(SecondNearest([PC]))
		CheckStat(Nearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(ThirdNearest([PC]))
		!HasImmunityEffects(ThirdNearest([PC]))
		CheckStat(Nearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FourthNearest([PC]))
		!HasImmunityEffects(FourthNearest([PC]))
		CheckStat(Nearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FifthNearest([PC]))
		!HasImmunityEffects(FifthNearest([PC]))
		CheckStat(Nearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(SixthNearest([PC]))
		!HasImmunityEffects(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See([PC])
		!StateCheck([PC],RZ_STATE_DISPEL)
		CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_DISABLED)
	OR(4)
		!See(SecondNearest([PC]))
		!StateCheck(SecondNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(ThirdNearest([PC]))
		!StateCheck(ThirdNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FourthNearest([PC]))
		!StateCheck(FourthNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FifthNearest([PC]))
		!StateCheck(FifthNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(SixthNearest([PC]))
		!StateCheck(SixthNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See([PC])
		CheckStat([PC],0,STONESKINS)
		CheckStat([PC],0,SHIELDGLOBE)
		StateCheck([PC],STATE_DISABLED)
	OR(4)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,STONESKINS)
		CheckStat(SecondNearest([PC]),0,SHIELDGLOBE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,STONESKINS)
		CheckStat(ThirdNearest([PC]),0,SHIELDGLOBE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,STONESKINS)
		CheckStat(FourthNearest([PC]),0,SHIELDGLOBE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,STONESKINS)
		CheckStat(FifthNearest([PC]),0,SHIELDGLOBE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,STONESKINS)
		CheckStat(SixthNearest([PC]),0,SHIELDGLOBE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See([PC])
		!HasImmunityEffects([PC])
		CheckStat(Nearest([PC]),0,SHIELDGLOBE)
		StateCheck([PC],STATE_DISABLED)
	OR(4)
		!See(SecondNearest([PC]))
		!HasImmunityEffects(SecondNearest([PC]))
		CheckStat(Nearest([PC]),0,SHIELDGLOBE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(ThirdNearest([PC]))
		!HasImmunityEffects(ThirdNearest([PC]))
		CheckStat(Nearest([PC]),0,SHIELDGLOBE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FourthNearest([PC]))
		!HasImmunityEffects(FourthNearest([PC]))
		CheckStat(Nearest([PC]),0,SHIELDGLOBE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FifthNearest([PC]))
		!HasImmunityEffects(FifthNearest([PC]))
		CheckStat(Nearest([PC]),0,SHIELDGLOBE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(SixthNearest([PC]))
		!HasImmunityEffects(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,SHIELDGLOBE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See([PC])
		!StateCheck([PC],RZ_STATE_DISPEL)
		CheckStat([PC],0,SHIELDGLOBE)
		StateCheck([PC],STATE_DISABLED)
	OR(4)
		!See(SecondNearest([PC]))
		!StateCheck(SecondNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(SecondNearest([PC]),0,SHIELDGLOBE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(ThirdNearest([PC]))
		!StateCheck(ThirdNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(ThirdNearest([PC]),0,SHIELDGLOBE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FourthNearest([PC]))
		!StateCheck(FourthNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(FourthNearest([PC]),0,SHIELDGLOBE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FifthNearest([PC]))
		!StateCheck(FifthNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(FifthNearest([PC]),0,SHIELDGLOBE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(SixthNearest([PC]))
		!StateCheck(SixthNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(SixthNearest([PC]),0,SHIELDGLOBE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See([PC])
		!HasBounceEffects([PC])
		StateCheck([PC],STATE_DISABLED)
	OR(3)
		!See(SecondNearest([PC]))
		!HasBounceEffects(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(ThirdNearest([PC]))
		!HasBounceEffects(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(FourthNearest([PC]))
		!HasBounceEffects(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(FifthNearest([PC]))
		!HasBounceEffects(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(SixthNearest([PC]))
		!HasBounceEffects(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See([PC])
		CheckStat([PC],0,STONESKINS)
		CheckStat([PC],0,MINORGLOBE)
		StateCheck([PC],STATE_DISABLED)
	OR(4)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,STONESKINS)
		CheckStat(SecondNearest([PC]),0,MINORGLOBE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,STONESKINS)
		CheckStat(ThirdNearest([PC]),0,MINORGLOBE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,STONESKINS)
		CheckStat(FourthNearest([PC]),0,MINORGLOBE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,STONESKINS)
		CheckStat(FifthNearest([PC]),0,MINORGLOBE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,STONESKINS)
		CheckStat(SixthNearest([PC]),0,MINORGLOBE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See([PC])
		!HasImmunityEffects([PC])
		CheckStat(Nearest([PC]),0,MINORGLOBE)
		StateCheck([PC],STATE_DISABLED)
	OR(4)
		!See(SecondNearest([PC]))
		!HasImmunityEffects(SecondNearest([PC]))
		CheckStat(Nearest([PC]),0,MINORGLOBE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(ThirdNearest([PC]))
		!HasImmunityEffects(ThirdNearest([PC]))
		CheckStat(Nearest([PC]),0,MINORGLOBE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FourthNearest([PC]))
		!HasImmunityEffects(FourthNearest([PC]))
		CheckStat(Nearest([PC]),0,MINORGLOBE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FifthNearest([PC]))
		!HasImmunityEffects(FifthNearest([PC]))
		CheckStat(Nearest([PC]),0,MINORGLOBE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(SixthNearest([PC]))
		!HasImmunityEffects(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,MINORGLOBE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See([PC])
		!StateCheck([PC],RZ_STATE_DISPEL)
		CheckStat([PC],0,MINORGLOBE)
		StateCheck([PC],STATE_DISABLED)
	OR(4)
		!See(SecondNearest([PC]))
		!StateCheck(SecondNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(SecondNearest([PC]),0,MINORGLOBE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(ThirdNearest([PC]))
		!StateCheck(ThirdNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(ThirdNearest([PC]),0,MINORGLOBE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FourthNearest([PC]))
		!StateCheck(FourthNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(FourthNearest([PC]),0,MINORGLOBE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FifthNearest([PC]))
		!StateCheck(FifthNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(FifthNearest([PC]),0,MINORGLOBE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(SixthNearest([PC]))
		!StateCheck(SixthNearest([PC]),RZ_STATE_DISPEL)
		CheckStat(SixthNearest([PC]),0,MINORGLOBE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_TRUE_DISPEL_MAGIC)  // SPWI326.SPL (??????????? ?????)
	!GlobalTimerNotExpired("Dispel_Timer","LOCALS")
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	!StateCheck([GOODCUTOFF],STATE_DISABLED)
	!StateCheck(SecondNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(ThirdNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(FourthNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(FifthNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(SixthNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(SeventhNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(EighthNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(NinthNearest([GOODCUTOFF]),STATE_DISABLED)
	!StateCheck(TenthNearest([GOODCUTOFF]),STATE_DISABLED)
	See(LastSeenBy(Myself))
	OR(5)
		!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
		!CheckStat(LastSeenBy(Myself),0,SANCTUARY)
		!CheckStat(LastSeenBy(Myself),0,SHIELDGLOBE)
		HasBounceEffects(LastSeenBy(Myself))
		!CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
	!Allegiance(LastSeenBy(Myself),ENEMY)
	OR(4)
		StateCheck(LastSeenBy(Myself),RZ_STATE_DISPEL)
		!CheckStat(LastSeenBy(Myself),0,STONESKINS)
		HasBounceEffects(LastSeenBy(Myself))
		HasImmunityEffects(LastSeenBy(Myself))
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		SetGlobalTimer("Dispel_Timer","LOCALS",ONE_TURN)
		Spell(LastSeenBy(Myself),WIZARD_TRUE_DISPEL_MAGIC)  // SPWI326.SPL (??????????? ?????)
	RESPONSE #50
		SetGlobalTimer("Dispel_Timer","LOCALS",ONE_ROUND)
		Continue()
END

IF
	See(Myself)
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_SILENCE_15_FOOT)  // SPPR211.SPL (???????? ????????)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(NearestEnemyOf(Myself))
	OR(6)
		!See([PC.0.0.MAGE_ALL])
		Range([PC.0.0.MAGE_ALL],18)
		StateCheck([PC.0.0.MAGE_ALL],STATE_INVISIBLE)
		StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.MAGE_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.MAGE_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.MAGE_ALL]))
		Range(SecondNearest([PC.0.0.MAGE_ALL]),18)
		StateCheck(SecondNearest([PC.0.0.MAGE_ALL]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.MAGE_ALL]))
		Range(ThirdNearest([PC.0.0.MAGE_ALL]),18)
		StateCheck(ThirdNearest([PC.0.0.MAGE_ALL]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.MAGE_ALL]))
		Range(FourthNearest([PC.0.0.MAGE_ALL]),18)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.MAGE_ALL]))
		Range(FifthNearest([PC.0.0.MAGE_ALL]),18)
		StateCheck(FifthNearest([PC.0.0.MAGE_ALL]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.MAGE_ALL]))
		Range(SixthNearest([PC.0.0.MAGE_ALL]),18)
		StateCheck(SixthNearest([PC.0.0.MAGE_ALL]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.BARD_ALL])
		Range([PC.0.0.BARD_ALL],18)
		StateCheck([PC.0.0.BARD_ALL],STATE_INVISIBLE)
		StateCheck([PC.0.0.BARD_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.MAGE_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.BARD_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.BARD_ALL]))
		Range(SecondNearest([PC.0.0.BARD_ALL]),18)
		StateCheck(SecondNearest([PC.0.0.BARD_ALL]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.BARD_ALL]))
		Range(ThirdNearest([PC.0.0.BARD_ALL]),18)
		StateCheck(ThirdNearest([PC.0.0.BARD_ALL]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.BARD_ALL]))
		Range(FourthNearest([PC.0.0.BARD_ALL]),18)
		StateCheck(FourthNearest([PC.0.0.BARD_ALL]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.BARD_ALL]))
		Range(FifthNearest([PC.0.0.BARD_ALL]),18)
		StateCheck(FifthNearest([PC.0.0.BARD_ALL]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.BARD_ALL]))
		Range(SixthNearest([PC.0.0.BARD_ALL]),18)
		StateCheck(SixthNearest([PC.0.0.BARD_ALL]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.CLERIC_ALL])
		Range([PC.0.0.CLERIC_ALL],18)
		StateCheck([PC.0.0.CLERIC_ALL],STATE_INVISIBLE)
		StateCheck([PC.0.0.CLERIC_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.CLERIC_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.CLERIC_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.CLERIC_ALL]))
		Range(SecondNearest([PC.0.0.CLERIC_ALL]),18)
		StateCheck(SecondNearest([PC.0.0.CLERIC_ALL]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.CLERIC_ALL]))
		Range(ThirdNearest([PC.0.0.CLERIC_ALL]),18)
		StateCheck(ThirdNearest([PC.0.0.CLERIC_ALL]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.CLERIC_ALL]))
		Range(FourthNearest([PC.0.0.CLERIC_ALL]),18)
		StateCheck(FourthNearest([PC.0.0.CLERIC_ALL]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.CLERIC_ALL]))
		Range(FifthNearest([PC.0.0.CLERIC_ALL]),18)
		StateCheck(FifthNearest([PC.0.0.CLERIC_ALL]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.CLERIC_ALL]))
		Range(SixthNearest([PC.0.0.CLERIC_ALL]),18)
		StateCheck(SixthNearest([PC.0.0.CLERIC_ALL]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.DRUID_ALL])
		Range([PC.0.0.DRUID_ALL],15)
		StateCheck([PC.0.0.DRUID_ALL],STATE_INVISIBLE)
		StateCheck([PC.0.0.DRUID_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.DRUID_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.DRUID_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.DRUID_ALL]))
		Range(SecondNearest([PC.0.0.DRUID_ALL]),18)
		StateCheck(SecondNearest([PC.0.0.DRUID_ALL]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.DRUID_ALL]))
		Range(ThirdNearest([PC.0.0.DRUID_ALL]),18)
		StateCheck(ThirdNearest([PC.0.0.DRUID_ALL]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.DRUID_ALL]))
		Range(FourthNearest([PC.0.0.DRUID_ALL]),18)
		StateCheck(FourthNearest([PC.0.0.DRUID_ALL]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.DRUID_ALL]))
		Range(FifthNearest([PC.0.0.DRUID_ALL]),18)
		StateCheck(FifthNearest([PC.0.0.DRUID_ALL]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.DRUID_ALL]))
		Range(SixthNearest([PC.0.0.DRUID_ALL]),18)
		StateCheck(SixthNearest([PC.0.0.DRUID_ALL]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.MAGE_ALL])
		Range([PC.0.0.MAGE_ALL],18)
		CheckStat([PC.0.0.MAGE_ALL],0,SANCTUARY)
		StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.MAGE_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.MAGE_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.MAGE_ALL]))
		Range(SecondNearest([PC.0.0.MAGE_ALL]),18)
		CheckStat(SecondNearest([PC.0.0.MAGE_ALL]),0,SANCTUARY)
		StateCheck(SecondNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.MAGE_ALL]))
		Range(ThirdNearest([PC.0.0.MAGE_ALL]),18)
		CheckStat(ThirdNearest([PC.0.0.MAGE_ALL]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.MAGE_ALL]))
		Range(FourthNearest([PC.0.0.MAGE_ALL]),18)
		CheckStat(FourthNearest([PC.0.0.MAGE_ALL]),0,SANCTUARY)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.MAGE_ALL]))
		Range(FifthNearest([PC.0.0.MAGE_ALL]),18)
		CheckStat(FifthNearest([PC.0.0.MAGE_ALL]),0,SANCTUARY)
		StateCheck(FifthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.MAGE_ALL]))
		Range(SixthNearest([PC.0.0.MAGE_ALL]),18)
		CheckStat(SixthNearest([PC.0.0.MAGE_ALL]),0,SANCTUARY)
		StateCheck(SixthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.BARD_ALL])
		Range([PC.0.0.BARD_ALL],18)
		CheckStat([PC.0.0.BARD_ALL],0,SANCTUARY)
		StateCheck([PC.0.0.BARD_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.MAGE_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.BARD_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.BARD_ALL]))
		Range(SecondNearest([PC.0.0.BARD_ALL]),18)
		CheckStat(SecondNearest([PC.0.0.BARD_ALL]),0,SANCTUARY)
		StateCheck(SecondNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.BARD_ALL]))
		Range(ThirdNearest([PC.0.0.BARD_ALL]),18)
		CheckStat(Nearest([PC.0.0.BARD_ALL]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.BARD_ALL]))
		Range(FourthNearest([PC.0.0.BARD_ALL]),18)
		CheckStat(FourthNearest([PC.0.0.BARD_ALL]),0,SANCTUARY)
		StateCheck(FourthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.BARD_ALL]))
		Range(FifthNearest([PC.0.0.BARD_ALL]),18)
		CheckStat(FifthNearest([PC.0.0.BARD_ALL]),0,SANCTUARY)
		StateCheck(FifthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.BARD_ALL]))
		Range(SixthNearest([PC.0.0.BARD_ALL]),18)
		CheckStat(SixthNearest([PC.0.0.BARD_ALL]),0,SANCTUARY)
		StateCheck(SixthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.CLERIC_ALL])
		Range([PC.0.0.CLERIC_ALL],18)
		CheckStat([PC.0.0.CLERIC_ALL],0,SANCTUARY)
		StateCheck([PC.0.0.CLERIC_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.CLERIC_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.CLERIC_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.CLERIC_ALL]))
		Range(SecondNearest([PC.0.0.CLERIC_ALL]),18)
		CheckStat(SecondNearest([PC.0.0.CLERIC_ALL]),0,SANCTUARY)
		StateCheck(SecondNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.CLERIC_ALL]))
		Range(ThirdNearest([PC.0.0.CLERIC_ALL]),18)
		CheckStat(ThirdNearest([PC.0.0.CLERIC_ALL]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.CLERIC_ALL]))
		Range(FourthNearest([PC.0.0.CLERIC_ALL]),18)
		CheckStat(FourthNearest([PC.0.0.CLERIC_ALL]),0,SANCTUARY)
		StateCheck(FourthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.CLERIC_ALL]))
		Range(FifthNearest([PC.0.0.CLERIC_ALL]),18)
		CheckStat(FifthNearest([PC.0.0.CLERIC_ALL]),0,SANCTUARY)
		StateCheck(FifthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.CLERIC_ALL]))
		Range(SixthNearest([PC.0.0.CLERIC_ALL]),18)
		CheckStat(SixthNearest([PC.0.0.CLERIC_ALL]),0,SANCTUARY)
		StateCheck(SixthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.DRUID_ALL])
		Range([PC.0.0.DRUID_ALL],15)
		CheckStat([PC.0.0.DRUID_ALL],0,SANCTUARY)
		StateCheck([PC.0.0.DRUID_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.DRUID_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.DRUID_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.DRUID_ALL]))
		Range(SecondNearest([PC.0.0.DRUID_ALL]),18)
		CheckStat(SecondNearest([PC.0.0.DRUID_ALL]),0,SANCTUARY)
		StateCheck(SecondNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.DRUID_ALL]))
		Range(ThirdNearest([PC.0.0.DRUID_ALL]),18)
		CheckStat(ThirdNearest([PC.0.0.DRUID_ALL]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.DRUID_ALL]))
		Range(FourthNearest([PC.0.0.DRUID_ALL]),18)
		CheckStat(FourthNearest([PC.0.0.DRUID_ALL]),0,SANCTUARY)
		StateCheck(FourthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.DRUID_ALL]))
		Range(FifthNearest([PC.0.0.DRUID_ALL]),18)
		CheckStat(FifthNearest([PC.0.0.DRUID_ALL]),0,SANCTUARY)
		StateCheck(FifthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.DRUID_ALL]))
		Range(SixthNearest([PC.0.0.DRUID_ALL]),18)
		CheckStat(SixthNearest([PC.0.0.DRUID_ALL]),0,SANCTUARY)
		StateCheck(SixthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.MAGE_ALL])
		Range([PC.0.0.MAGE_ALL],18)
		CheckStat([PC.0.0.MAGE_ALL],0,SHIELDGLOBE)
		StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.MAGE_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.MAGE_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.MAGE_ALL]))
		Range(SecondNearest([PC.0.0.MAGE_ALL]),18)
		CheckStat(SecondNearest([PC.0.0.MAGE_ALL]),0,SHIELDGLOBE)
		StateCheck(SecondNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.MAGE_ALL]))
		Range(ThirdNearest([PC.0.0.MAGE_ALL]),18)
		CheckStat(ThirdNearest([PC.0.0.MAGE_ALL]),0,SHIELDGLOBE)
		StateCheck(ThirdNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.MAGE_ALL]))
		Range(FourthNearest([PC.0.0.MAGE_ALL]),18)
		CheckStat(FourthNearest([PC.0.0.MAGE_ALL]),0,SHIELDGLOBE)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.MAGE_ALL]))
		Range(FifthNearest([PC.0.0.MAGE_ALL]),18)
		CheckStat(FifthNearest([PC.0.0.MAGE_ALL]),0,SHIELDGLOBE)
		StateCheck(FifthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.MAGE_ALL]))
		Range(SixthNearest([PC.0.0.MAGE_ALL]),18)
		CheckStat(SixthNearest([PC.0.0.MAGE_ALL]),0,SHIELDGLOBE)
		StateCheck(SixthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.BARD_ALL])
		Range([PC.0.0.BARD_ALL],18)
		CheckStat([PC.0.0.BARD_ALL],0,SHIELDGLOBE)
		StateCheck([PC.0.0.BARD_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.MAGE_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.BARD_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.BARD_ALL]))
		Range(SecondNearest([PC.0.0.BARD_ALL]),18)
		CheckStat(SecondNearest([PC.0.0.BARD_ALL]),0,SHIELDGLOBE)
		StateCheck(SecondNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.BARD_ALL]))
		Range(ThirdNearest([PC.0.0.BARD_ALL]),18)
		CheckStat(Nearest([PC.0.0.BARD_ALL]),0,SHIELDGLOBE)
		StateCheck(ThirdNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.BARD_ALL]))
		Range(FourthNearest([PC.0.0.BARD_ALL]),18)
		CheckStat(FourthNearest([PC.0.0.BARD_ALL]),0,SHIELDGLOBE)
		StateCheck(FourthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.BARD_ALL]))
		Range(FifthNearest([PC.0.0.BARD_ALL]),18)
		CheckStat(FifthNearest([PC.0.0.BARD_ALL]),0,SHIELDGLOBE)
		StateCheck(FifthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.BARD_ALL]))
		Range(SixthNearest([PC.0.0.BARD_ALL]),18)
		CheckStat(SixthNearest([PC.0.0.BARD_ALL]),0,SHIELDGLOBE)
		StateCheck(SixthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.CLERIC_ALL])
		Range([PC.0.0.CLERIC_ALL],18)
		CheckStat([PC.0.0.CLERIC_ALL],0,SHIELDGLOBE)
		StateCheck([PC.0.0.CLERIC_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.CLERIC_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.CLERIC_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.CLERIC_ALL]))
		Range(SecondNearest([PC.0.0.CLERIC_ALL]),18)
		CheckStat(SecondNearest([PC.0.0.CLERIC_ALL]),0,SHIELDGLOBE)
		StateCheck(SecondNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.CLERIC_ALL]))
		Range(ThirdNearest([PC.0.0.CLERIC_ALL]),18)
		CheckStat(ThirdNearest([PC.0.0.CLERIC_ALL]),0,SHIELDGLOBE)
		StateCheck(ThirdNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.CLERIC_ALL]))
		Range(FourthNearest([PC.0.0.CLERIC_ALL]),18)
		CheckStat(FourthNearest([PC.0.0.CLERIC_ALL]),0,SHIELDGLOBE)
		StateCheck(FourthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.CLERIC_ALL]))
		Range(FifthNearest([PC.0.0.CLERIC_ALL]),18)
		CheckStat(FifthNearest([PC.0.0.CLERIC_ALL]),0,SHIELDGLOBE)
		StateCheck(FifthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.CLERIC_ALL]))
		Range(SixthNearest([PC.0.0.CLERIC_ALL]),18)
		CheckStat(SixthNearest([PC.0.0.CLERIC_ALL]),0,SHIELDGLOBE)
		StateCheck(SixthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.DRUID_ALL])
		Range([PC.0.0.DRUID_ALL],15)
		CheckStat([PC.0.0.DRUID_ALL],0,SHIELDGLOBE)
		StateCheck([PC.0.0.DRUID_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.DRUID_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.DRUID_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.DRUID_ALL]))
		Range(SecondNearest([PC.0.0.DRUID_ALL]),18)
		CheckStat(SecondNearest([PC.0.0.DRUID_ALL]),0,SHIELDGLOBE)
		StateCheck(SecondNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.DRUID_ALL]))
		Range(ThirdNearest([PC.0.0.DRUID_ALL]),18)
		CheckStat(ThirdNearest([PC.0.0.DRUID_ALL]),0,SHIELDGLOBE)
		StateCheck(ThirdNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.DRUID_ALL]))
		Range(FourthNearest([PC.0.0.DRUID_ALL]),18)
		CheckStat(FourthNearest([PC.0.0.DRUID_ALL]),0,SHIELDGLOBE)
		StateCheck(FourthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.DRUID_ALL]))
		Range(FifthNearest([PC.0.0.DRUID_ALL]),18)
		CheckStat(FifthNearest([PC.0.0.DRUID_ALL]),0,SHIELDGLOBE)
		StateCheck(FifthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.DRUID_ALL]))
		Range(SixthNearest([PC.0.0.DRUID_ALL]),18)
		CheckStat(SixthNearest([PC.0.0.DRUID_ALL]),0,SHIELDGLOBE)
		StateCheck(SixthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.MAGE_ALL])
		Range([PC.0.0.MAGE_ALL],18)
		!HasBounceEffects([PC.0.0.MAGE_ALL])
		StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.MAGE_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.MAGE_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.MAGE_ALL]))
		Range(SecondNearest([PC.0.0.MAGE_ALL]),18)
		!HasBounceEffects(SecondNearest([PC.0.0.MAGE_ALL]))
		StateCheck(SecondNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.MAGE_ALL]))
		Range(ThirdNearest([PC.0.0.MAGE_ALL]),18)
		!HasBounceEffects(ThirdNearest([PC.0.0.MAGE_ALL]))
		StateCheck(ThirdNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.MAGE_ALL]))
		Range(FourthNearest([PC.0.0.MAGE_ALL]),18)
		!HasBounceEffects(FourthNearest([PC.0.0.MAGE_ALL]))
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.MAGE_ALL]))
		Range(FifthNearest([PC.0.0.MAGE_ALL]),18)
		!HasBounceEffects(FifthNearest([PC.0.0.MAGE_ALL]))
		StateCheck(FifthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.MAGE_ALL]))
		Range(SixthNearest([PC.0.0.MAGE_ALL]),18)
		!HasBounceEffects(SixthNearest([PC.0.0.MAGE_ALL]))
		StateCheck(SixthNearest([PC.0.0.MAGE_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.MAGE_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.BARD_ALL])
		Range([PC.0.0.BARD_ALL],18)
		!HasBounceEffects([PC.0.0.BARD_ALL])
		StateCheck([PC.0.0.BARD_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.MAGE_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.BARD_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.BARD_ALL]))
		Range(SecondNearest([PC.0.0.BARD_ALL]),18)
		!HasBounceEffects(SecondNearest([PC.0.0.BARD_ALL]))
		StateCheck(SecondNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.BARD_ALL]))
		Range(ThirdNearest([PC.0.0.BARD_ALL]),18)
		!HasBounceEffects(ThirdNearest([PC.0.0.BARD_ALL]))
		StateCheck(ThirdNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.BARD_ALL]))
		Range(FourthNearest([PC.0.0.BARD_ALL]),18)
		!HasBounceEffects(FourthNearest([PC.0.0.BARD_ALL]))
		StateCheck(FourthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.BARD_ALL]))
		Range(FifthNearest([PC.0.0.BARD_ALL]),18)
		!HasBounceEffects(FifthNearest([PC.0.0.BARD_ALL]))
		StateCheck(FifthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.BARD_ALL]))
		Range(SixthNearest([PC.0.0.BARD_ALL]),18)
		!HasBounceEffects(SixthNearest([PC.0.0.BARD_ALL]))
		StateCheck(SixthNearest([PC.0.0.BARD_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.BARD_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.BARD_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.CLERIC_ALL])
		Range([PC.0.0.CLERIC_ALL],18)
		!HasBounceEffects([PC.0.0.CLERIC_ALL])
		StateCheck([PC.0.0.CLERIC_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.CLERIC_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.CLERIC_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.CLERIC_ALL]))
		Range(SecondNearest([PC.0.0.CLERIC_ALL]),18)
		!HasBounceEffects(SecondNearest([PC.0.0.CLERIC_ALL]))
		StateCheck(SecondNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.CLERIC_ALL]))
		Range(ThirdNearest([PC.0.0.CLERIC_ALL]),18)
		!HasBounceEffects(ThirdNearest([PC.0.0.CLERIC_ALL]))
		StateCheck(ThirdNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.CLERIC_ALL]))
		Range(FourthNearest([PC.0.0.CLERIC_ALL]),18)
		!HasBounceEffects(FourthNearest([PC.0.0.CLERIC_ALL]))
		StateCheck(FourthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.CLERIC_ALL]))
		Range(FifthNearest([PC.0.0.CLERIC_ALL]),18)
		!HasBounceEffects(FifthNearest([PC.0.0.CLERIC_ALL]))
		StateCheck(FifthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.CLERIC_ALL]))
		Range(SixthNearest([PC.0.0.CLERIC_ALL]),18)
		!HasBounceEffects(SixthNearest([PC.0.0.CLERIC_ALL]))
		StateCheck(SixthNearest([PC.0.0.CLERIC_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.CLERIC_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.CLERIC_ALL]),0,MINORGLOBE)
	OR(6)
		!See([PC.0.0.DRUID_ALL])
		Range([PC.0.0.DRUID_ALL],15)
		!HasBounceEffects([PC.0.0.DRUID_ALL])
		StateCheck([PC.0.0.DRUID_ALL],STATE_DISABLED)
		StateCheck([PC.0.0.DRUID_ALL],STATE_SILENCED)
		!CheckStat([PC.0.0.DRUID_ALL],0,MINORGLOBE)
	OR(6)
		!See(SecondNearest([PC.0.0.DRUID_ALL]))
		Range(SecondNearest([PC.0.0.DRUID_ALL]),18)
		!HasBounceEffects(SecondNearest([PC.0.0.DRUID_ALL]))
		StateCheck(SecondNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(SecondNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(SecondNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(ThirdNearest([PC.0.0.DRUID_ALL]))
		Range(ThirdNearest([PC.0.0.DRUID_ALL]),18)
		!HasBounceEffects(ThirdNearest([PC.0.0.DRUID_ALL]))
		StateCheck(ThirdNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(ThirdNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(ThirdNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FourthNearest([PC.0.0.DRUID_ALL]))
		Range(FourthNearest([PC.0.0.DRUID_ALL]),18)
		!HasBounceEffects(FourthNearest([PC.0.0.DRUID_ALL]))
		StateCheck(FourthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(FourthNearest([PC.0.0.MAGE_ALL]),STATE_SILENCED)
		!CheckStat(FourthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(FifthNearest([PC.0.0.DRUID_ALL]))
		Range(FifthNearest([PC.0.0.DRUID_ALL]),18)
		!HasBounceEffects(FifthNearest([PC.0.0.DRUID_ALL]))
		StateCheck(FifthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(FifthNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(FifthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	OR(6)
		!See(SixthNearest([PC.0.0.DRUID_ALL]))
		Range(SixthNearest([PC.0.0.DRUID_ALL]),18)
		!HasBounceEffects(SixthNearest([PC.0.0.DRUID_ALL]))
		StateCheck(SixthNearest([PC.0.0.DRUID_ALL]),STATE_DISABLED)
		StateCheck(SixthNearest([PC.0.0.DRUID_ALL]),STATE_SILENCED)
		!CheckStat(SixthNearest([PC.0.0.DRUID_ALL]),0,MINORGLOBE)
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_SILENCE_15_FOOT)  // SPPR211.SPL (???????? ????????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_SILENCED)
	!Range(LastSeenBy(Myself),18)
	OR(4)
		Class(LastSeenBy(Myself),MAGE_ALL)
		Class(LastSeenBy(Myself),BARD_ALL)
		Class(LastSeenBy(Myself),CLERIC_ALL)
		Class(LastSeenBy(Myself),DRUID_ALL)
	OR(4)
		!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
		!CheckStat(LastSeenBy(Myself),0,SANCTUARY)
		!CheckStat(LastSeenBy(Myself),0,SHIELDGLOBE)
		HasBounceEffects(LastSeenBy(Myself))
	OR(2)
		!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
		NumCreatureGT([GOODCUTOFF],1)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),CLERIC_SILENCE_15_FOOT)  // SPPR211.SPL (???????? ????????)
	RESPONSE #75
		Continue()
END

IF
	See(Myself)
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	Global("Out_of_Spells","LOCALS",0)
	OR(2)
		!GlobalTimerNotExpired("Minor_Sequencer_Timer","LOCALS")
		CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(NearestEnemyOf(Myself))
	OR(8)
		RandomNumGT(100,33)
		!See(LastAttackerOf(Myself))
		StateCheck(LastAttackerOf(Myself),STATE_INVISIBLE)
		StateCheck(LastAttackerOf(Myself),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(LastAttackerOf(Myself),0,SANCTUARY)
		StateCheck(LastAttackerOf(Myself),STATE_DISABLED)
		HasBounceEffects(LastAttackerOf(Myself))
		HasImmunityEffects(LastAttackerOf(Myself))
	OR(8)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		StateCheck(MostDamagedOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_DISABLED)
		HasBounceEffects(MostDamagedOf([PC]))
		HasImmunityEffects(MostDamagedOf([PC]))
	OR(8)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		StateCheck(WeakestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_DISABLED)
		HasBounceEffects(WeakestOf([PC]))
		HasImmunityEffects(WeakestOf([PC]))
	OR(8)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		StateCheck(StrongestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_DISABLED)
		HasBounceEffects(StrongestOf([PC]))
		HasImmunityEffects(StrongestOf([PC]))
	OR(8)
		RandomNumGT(100,25)
		!See([PC])
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_DISABLED)
		HasBounceEffects([PC])
		HasImmunityEffects([PC])
	OR(8)
		RandomNumGT(100,46)
		!See(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
		HasBounceEffects(SecondNearest([PC]))
		HasImmunityEffects(SecondNearest([PC]))
	OR(8)
		RandomNumGT(100,63)
		!See(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
		HasBounceEffects(ThirdNearest([PC]))
		HasImmunityEffects(ThirdNearest([PC]))
	OR(8)
		RandomNumGT(100,76)
		!See(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
		HasBounceEffects(FourthNearest([PC]))
		HasImmunityEffects(FourthNearest([PC]))
	OR(8)
		RandomNumGT(100,85)
		!See(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
		HasBounceEffects(FifthNearest([PC]))
		HasImmunityEffects(FifthNearest([PC]))
	OR(8)
		RandomNumGT(100,90)
		!See(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
		HasBounceEffects(SixthNearest([PC]))
		HasImmunityEffects(SixthNearest([PC]))
	OR(7)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		StateCheck(MostDamagedOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		HasBounceEffects(MostDamagedOf([PC]))
		HasImmunityEffects(MostDamagedOf([PC]))
	OR(7)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		StateCheck(WeakestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		HasBounceEffects(WeakestOf([PC]))
		HasImmunityEffects(WeakestOf([PC]))
	OR(7)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		StateCheck(StrongestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		HasBounceEffects(StrongestOf([PC]))
		HasImmunityEffects(StrongestOf([PC]))
	OR(7)
		RandomNumGT(100,25)
		!See([PC])
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		!CheckStat([PC],0,SANCTUARY)
		HasBounceEffects([PC])
		HasImmunityEffects([PC])
	OR(7)
		RandomNumGT(100,46)
		!See(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		HasBounceEffects(SecondNearest([PC]))
		HasImmunityEffects(SecondNearest([PC]))
	OR(7)
		RandomNumGT(100,63)
		!See(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		HasBounceEffects(ThirdNearest([PC]))
		HasImmunityEffects(ThirdNearest([PC]))
	OR(7)
		RandomNumGT(100,76)
		!See(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		HasBounceEffects(FourthNearest([PC]))
		HasImmunityEffects(FourthNearest([PC]))
	OR(7)
		RandomNumGT(100,85)
		!See(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		HasBounceEffects(FifthNearest([PC]))
		HasImmunityEffects(FifthNearest([PC]))
	OR(7)
		RandomNumGT(100,90)
		!See(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		HasBounceEffects(SixthNearest([PC]))
		HasImmunityEffects(SixthNearest([PC]))
	OR(6)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		StateCheck(MostDamagedOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		StateCheck(WeakestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		StateCheck(StrongestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,25)
		!See([PC])
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_DISABLED)
	OR(6)
		RandomNumGT(100,46)
		!See(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,63)
		!See(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,76)
		!See(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,85)
		!See(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,90)
		!See(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(5)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		StateCheck(MostDamagedOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
	OR(5)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		StateCheck(WeakestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
	OR(5)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		StateCheck(StrongestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
	OR(5)
		RandomNumGT(100,25)
		!See([PC])
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		!CheckStat([PC],0,SANCTUARY)
	OR(5)
		RandomNumGT(100,46)
		!See(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
	OR(5)
		RandomNumGT(100,63)
		!See(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
	OR(5)
		RandomNumGT(100,76)
		!See(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
	OR(5)
		RandomNumGT(100,85)
		!See(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
	OR(5)
		RandomNumGT(100,90)
		!See(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
	OR(4)
		!See(MostDamagedOf([PC]))
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		StateCheck(MostDamagedOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
	OR(4)
		!See(WeakestOf([PC]))
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		StateCheck(WeakestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
	OR(4)
		!See(StrongestOf([PC]))
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		StateCheck(StrongestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
	OR(4)
		!See([PC])
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		!CheckStat([PC],0,SANCTUARY)
	OR(4)
		!See(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
	OR(4)
		!See(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
	OR(4)
		!See(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
	OR(4)
		!See(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
	OR(4)
		!See(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
	OR(4)
		!See(MostDamagedOf([PC]))
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		!StateCheck(MostDamagedOf([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(MostDamagedOf([PC]),STATE_DISABLED)
	OR(4)
		!See(WeakestOf([PC]))
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		!StateCheck(WeakestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(WeakestOf([PC]),STATE_DISABLED)
	OR(4)
		!See(StrongestOf([PC]))
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		!StateCheck(StrongestOf([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(StrongestOf([PC]),STATE_DISABLED)
	OR(4)
		!See([PC])
		StateCheck([PC],STATE_INVISIBLE)
		!StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
		StateCheck([PC],STATE_DISABLED)
	OR(4)
		!See(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		!StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(4)
		!See(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(MostDamagedOf([PC]))
		CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_DISABLED)
	OR(3)
		!See(WeakestOf([PC]))
		CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_DISABLED)
	OR(3)
		!See(StrongestOf([PC]))
		CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_DISABLED)
	OR(3)
		!See([PC])
		CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_DISABLED)
	OR(3)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(MostDamagedOf([PC]))
		CheckStat(MostDamagedOf([PC]),0,SHIELDGLOBE)
		StateCheck(MostDamagedOf([PC]),STATE_DISABLED)
	OR(3)
		!See(WeakestOf([PC]))
		CheckStat(WeakestOf([PC]),0,SHIELDGLOBE)
		StateCheck(WeakestOf([PC]),STATE_DISABLED)
	OR(3)
		!See(StrongestOf([PC]))
		CheckStat(StrongestOf([PC]),0,SHIELDGLOBE)
		StateCheck(StrongestOf([PC]),STATE_DISABLED)
	OR(3)
		!See([PC])
		CheckStat([PC],0,SHIELDGLOBE)
		StateCheck([PC],STATE_DISABLED)
	OR(3)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,SHIELDGLOBE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,SHIELDGLOBE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,SHIELDGLOBE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,SHIELDGLOBE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,SHIELDGLOBE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(MostDamagedOf([PC]))
		!HasBounceEffects(MostDamagedOf([PC]))
		StateCheck(MostDamagedOf([PC]),STATE_DISABLED)
	OR(3)
		!See(WeakestOf([PC]))
		!HasBounceEffects(WeakestOf([PC]))
		StateCheck(WeakestOf([PC]),STATE_DISABLED)
	OR(3)
		!See(StrongestOf([PC]))
		!HasBounceEffects(StrongestOf([PC]))
		StateCheck(StrongestOf([PC]),STATE_DISABLED)
	OR(3)
		!See([PC])
		!HasBounceEffects([PC])
		StateCheck([PC],STATE_DISABLED)
	OR(3)
		!See(SecondNearest([PC]))
		!HasBounceEffects(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(ThirdNearest([PC]))
		!HasBounceEffects(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(FourthNearest([PC]))
		!HasBounceEffects(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(FifthNearest([PC]))
		!HasBounceEffects(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(SixthNearest([PC]))
		!HasBounceEffects(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(MostDamagedOf([PC]))
		CheckStat(MostDamagedOf([PC]),0,MINORGLOBE)
		StateCheck(MostDamagedOf([PC]),STATE_DISABLED)
	OR(3)
		!See(WeakestOf([PC]))
		CheckStat(WeakestOf([PC]),0,MINORGLOBE)
		StateCheck(WeakestOf([PC]),STATE_DISABLED)
	OR(3)
		!See(StrongestOf([PC]))
		CheckStat(StrongestOf([PC]),0,MINORGLOBE)
		StateCheck(StrongestOf([PC]),STATE_DISABLED)
	OR(3)
		!See([PC])
		CheckStat([PC],0,MINORGLOBE)
		StateCheck([PC],STATE_DISABLED)
	OR(3)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,MINORGLOBE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,MINORGLOBE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,MINORGLOBE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,MINORGLOBE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,MINORGLOBE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(3)
		!See(MostDamagedOf([PC]))
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		!StateCheck(MostDamagedOf([PC]),STATE_IMPROVEDINVISIBILITY)
	OR(3)
		!See(WeakestOf([PC]))
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		!StateCheck(WeakestOf([PC]),STATE_IMPROVEDINVISIBILITY)
	OR(3)
		!See(StrongestOf([PC]))
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		!StateCheck(StrongestOf([PC]),STATE_IMPROVEDINVISIBILITY)
	OR(3)
		!See([PC])
		StateCheck([PC],STATE_INVISIBLE)
		!StateCheck([PC],STATE_IMPROVEDINVISIBILITY)
	OR(3)
		!See(SecondNearest([PC]))
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SecondNearest([PC]),STATE_IMPROVEDINVISIBILITY)
	OR(3)
		!See(ThirdNearest([PC]))
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		!StateCheck(ThirdNearest([PC]),STATE_IMPROVEDINVISIBILITY)
	OR(3)
		!See(FourthNearest([PC]))
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FourthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
	OR(3)
		!See(FifthNearest([PC]))
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FifthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
	OR(3)
		!See(SixthNearest([PC]))
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SixthNearest([PC]),STATE_IMPROVEDINVISIBILITY)
	OR(2)
		!See(MostDamagedOf([PC]))
		CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
	OR(2)
		!See(WeakestOf([PC]))
		CheckStat(WeakestOf([PC]),0,SANCTUARY)
	OR(2)
		!See(StrongestOf([PC]))
		CheckStat(StrongestOf([PC]),0,SANCTUARY)
	OR(2)
		!See([PC])
		CheckStat([PC],0,SANCTUARY)
	OR(2)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,SANCTUARY)
	OR(2)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,SANCTUARY)
	OR(2)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,SANCTUARY)
	OR(2)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,SANCTUARY)
	OR(2)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,SANCTUARY)
	OR(2)
		!See(MostDamagedOf([PC]))
		CheckStat(MostDamagedOf([PC]),0,SHIELDGLOBE)
	OR(2)
		!See(WeakestOf([PC]))
		CheckStat(WeakestOf([PC]),0,SHIELDGLOBE)
	OR(2)
		!See(StrongestOf([PC]))
		CheckStat(StrongestOf([PC]),0,SHIELDGLOBE)
	OR(2)
		!See([PC])
		CheckStat([PC],0,SHIELDGLOBE)
	OR(2)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,SHIELDGLOBE)
	OR(2)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,SHIELDGLOBE)
	OR(2)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,SHIELDGLOBE)
	OR(2)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,SHIELDGLOBE)
	OR(2)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,SHIELDGLOBE)
	OR(2)
		!See(MostDamagedOf([PC]))
		!HasBounceEffects(MostDamagedOf([PC]))
	OR(2)
		!See(WeakestOf([PC]))
		!HasBounceEffects(WeakestOf([PC]))
	OR(2)
		!See(StrongestOf([PC]))
		!HasBounceEffects(StrongestOf([PC]))
	OR(2)
		!See([PC])
		!HasBounceEffects([PC])
	OR(2)
		!See(SecondNearest([PC]))
		!HasBounceEffects(SecondNearest([PC]))
	OR(2)
		!See(ThirdNearest([PC]))
		!HasBounceEffects(ThirdNearest([PC]))
	OR(2)
		!See(FourthNearest([PC]))
		!HasBounceEffects(FourthNearest([PC]))
	OR(2)
		!See(FifthNearest([PC]))
		!HasBounceEffects(FifthNearest([PC]))
	OR(2)
		!See(SixthNearest([PC]))
		!HasBounceEffects(SixthNearest([PC]))
	OR(2)
		!See(MostDamagedOf([PC]))
		CheckStat(MostDamagedOf([PC]),0,MINORGLOBE)
	OR(2)
		!See(WeakestOf([PC]))
		CheckStat(WeakestOf([PC]),0,MINORGLOBE)
	OR(2)
		!See(StrongestOf([PC]))
		CheckStat(StrongestOf([PC]),0,MINORGLOBE)
	OR(2)
		!See([PC])
		CheckStat([PC],0,MINORGLOBE)
	OR(2)
		!See(SecondNearest([PC]))
		CheckStat(SecondNearest([PC]),0,MINORGLOBE)
	OR(2)
		!See(ThirdNearest([PC]))
		CheckStat(ThirdNearest([PC]),0,MINORGLOBE)
	OR(2)
		!See(FourthNearest([PC]))
		CheckStat(FourthNearest([PC]),0,MINORGLOBE)
	OR(2)
		!See(FifthNearest([PC]))
		CheckStat(FifthNearest([PC]),0,MINORGLOBE)
	OR(2)
		!See(SixthNearest([PC]))
		CheckStat(SixthNearest([PC]),0,MINORGLOBE)
	OR(6)
		!See(NearestEnemyOf(Myself))
		StateCheck(NearestEnemyOf(Myself),STATE_INVISIBLE)
		!CheckStat(NearestEnemyOf(Myself),0,SANCTUARY)
		StateCheck(NearestEnemyOf(Myself),STATE_DISABLED)
		HasBounceEffects(NearestEnemyOf(Myself))
		HasImmunityEffects(NearestEnemyOf(Myself))
	OR(6)
		!See(SecondNearestEnemyOf(Myself))
		StateCheck(SecondNearestEnemyOf(Myself),STATE_INVISIBLE)
		!CheckStat(SecondNearestEnemyOf(Myself),0,SANCTUARY)
		StateCheck(SecondNearestEnemyOf(Myself),STATE_DISABLED)
		HasBounceEffects(SecondNearestEnemyOf(Myself))
		HasImmunityEffects(SecondNearestEnemyOf(Myself))
	OR(6)
		!See(ThirdNearestEnemyOf(Myself))
		StateCheck(ThirdNearestEnemyOf(Myself),STATE_INVISIBLE)
		!CheckStat(ThirdNearestEnemyOf(Myself),0,SANCTUARY)
		StateCheck(ThirdNearestEnemyOf(Myself),STATE_DISABLED)
		HasBounceEffects(ThirdNearestEnemyOf(Myself))
		HasImmunityEffects(ThirdNearestEnemyOf(Myself))
	OR(6)
		!See(FourthNearestEnemyOf(Myself))
		StateCheck(FourthNearestEnemyOf(Myself),STATE_INVISIBLE)
		!CheckStat(FourthNearestEnemyOf(Myself),0,SANCTUARY)
		StateCheck(FourthNearestEnemyOf(Myself),STATE_DISABLED)
		HasBounceEffects(FourthNearestEnemyOf(Myself))
		HasImmunityEffects(FourthNearestEnemyOf(Myself))
	OR(6)
		!See(FifthNearestEnemyOf(Myself))
		StateCheck(FifthNearestEnemyOf(Myself),STATE_INVISIBLE)
		!CheckStat(FifthNearestEnemyOf(Myself),0,SANCTUARY)
		StateCheck(FifthNearestEnemyOf(Myself),STATE_DISABLED)
		HasBounceEffects(FifthNearestEnemyOf(Myself))
		HasImmunityEffects(FifthNearestEnemyOf(Myself))
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_SLOW)  // SPWI312.SPL (??????????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	StateCheck(LastSeenBy(Myself),STATE_HASTED)
	Range(LastSeenBy(Myself),12)
	OR(2)
		NumCreatureGT([GOODCUTOFF],1)
		CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	OR(5)
		!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
		!CheckStat(LastSeenBy(Myself),0,SANCTUARY)
		!CheckStat(LastSeenBy(Myself),0,SHIELDGLOBE)
		HasBounceEffects(LastSeenBy(Myself))
		!CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),WIZARD_SLOW)  // SPWI312.SPL (??????????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	!GlobalTimerNotExpired("Minor_Sequencer_Timer","LOCALS")
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		SetGlobalTimer("Minor_Sequencer_Timer","LOCALS",SIXTEEN_HOURS)
		DisplayString(Myself,@5013)  // ????? ??????????????????
		SmallWait(1)
		ReallyForceSpell(LastSeenBy(Myself),CLERIC_DOOM)  // SPPR113.SPL (????????????)
		ReallyForceSpell(LastSeenBy(Myself),CLERIC_HOLD_PERSON)  // SPPR208.SPL (????????? ?????????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_CHAOS)  // SPWI508.SPL (????)
	DifficultyGT(EASIEST)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	OR(2)
		NumCreatureGT([GOODCUTOFF],1)
		CheckStat(LastSeenBy(Myself),0,SCRIPTINGSTATE3)
	OR(5)
		!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
		!CheckStat(LastSeenBy(Myself),0,SANCTUARY)
		!CheckStat(LastSeenBy(Myself),0,SHIELDGLOBE)
		HasBounceEffects(LastSeenBy(Myself))
		!CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	OR(2)
		!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
		NumCreatureGT([GOODCUTOFF],1)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),WIZARD_CHAOS)  // SPWI508.SPL (????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_AERIAL_SERVANT)  // SPPR601.SPL (????????? ?????)
	DifficultyGT(EASY)
	NumCreatureLT([ENEMY.0.0.0.0.SUMMONED],5)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),CLERIC_AERIAL_SERVANT)  // SPPR601.SPL (????????? ?????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_HOLD_PERSON)  // SPPR208.SPL (????????? ?????????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	CheckStat(LastSeenBy(Myself),0,SCRIPTINGSTATE3)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		Spell(LastSeenBy(Myself),CLERIC_HOLD_PERSON)  // SPPR208.SPL (????????? ?????????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_CONJURE_ANIMALS)  // SPPR604.SPL (????? ????????)
	DifficultyGT(EASY)
	NumCreatureLT([ENEMY.0.0.0.0.SUMMONED],5)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),CLERIC_CONJURE_ANIMALS)  // SPPR604.SPL (????? ????????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_CONE_OF_COLD)  // SPWI503.SPL (????? ??????)
	DifficultyGT(EASIEST)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	OR(5)
		!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
		!CheckStat(LastSeenBy(Myself),0,SANCTUARY)
		!CheckStat(LastSeenBy(Myself),0,SHIELDGLOBE)
		HasBounceEffects(LastSeenBy(Myself))
		!CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),WIZARD_CONE_OF_COLD)  // SPWI503.SPL (????? ??????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_INVISIBLE_STALKER)  // SPWI601.SPL (????????? ???????)
	DifficultyGT(EASY)
	NumCreatureLT([ENEMY.0.0.0.0.SUMMONED],5)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),WIZARD_INVISIBLE_STALKER)  // SPWI601.SPL (????????? ???????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_EMOTION_HOPELESSNESS)  // SPWI411.SPL (??????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	OR(2)
		NumCreatureGT([GOODCUTOFF],1)
		CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	OR(2)
		NumCreatureGT([GOODCUTOFF],1)
		CheckStat(LastSeenBy(Myself),0,SCRIPTINGSTATE3)
	OR(5)
		!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
		!CheckStat(LastSeenBy(Myself),0,SANCTUARY)
		!CheckStat(LastSeenBy(Myself),0,SHIELDGLOBE)
		HasBounceEffects(LastSeenBy(Myself))
		!CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	OR(2)
		!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
		NumCreatureGT([GOODCUTOFF],1)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),WIZARD_EMOTION_HOPELESSNESS)  // SPWI411.SPL (??????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_MONSTER_SUMMONING_3)  // SPWI504.SPL (?????????? ???????? III)
	DifficultyGT(EASIEST)
	NumCreatureLT([ENEMY.0.0.0.0.SUMMONED],5)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),WIZARD_MONSTER_SUMMONING_3)  // SPWI504.SPL (?????????? ???????? III)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_MISCAST_MAGIC)  // SPPR310.SPL (???????????? ?????)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	OR(4)
		Class(LastSeenBy(Myself),MAGE_ALL)
		Class(LastSeenBy(Myself),BARD_ALL)
		Class(LastSeenBy(Myself),CLERIC_ALL)
		Class(LastSeenBy(Myself),DRUID_ALL)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
	CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		Spell(LastSeenBy(Myself),CLERIC_MISCAST_MAGIC)  // SPPR310.SPL (???????????? ?????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_SPIDER_SPAWN)  // SPWI423.SPL (????????? ??????)
	NumCreatureLT([ENEMY.0.0.0.0.SUMMONED],5)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),WIZARD_SPIDER_SPAWN)  // SPWI423.SPL (????????? ??????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_UNHOLY_BLIGHT)  // SPPR314.SPL (?????????? ?????)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
	CheckStat(Myself,0,POLYMORPHED)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	OR(2)
		NumCreatureGT([GOODCUTOFF],1)
		CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	OR(5)
		!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
		!CheckStat(LastSeenBy(Myself),0,SANCTUARY)
		!CheckStat(LastSeenBy(Myself),0,SHIELDGLOBE)
		HasBounceEffects(LastSeenBy(Myself))
		!CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),CLERIC_UNHOLY_BLIGHT)  // SPPR314.SPL (?????????? ?????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_ANIMATE_DEAD)  // SPPR301.SPL (???????? ??????)
	NumCreatureLT([ENEMY.0.0.0.0.SUMMONED],5)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),CLERIC_ANIMATE_DEAD)  // SPPR301.SPL (???????? ??????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_FLAME_ARROW)  // SPWI303.SPL (????????? ??????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		Spell(LastSeenBy(Myself),WIZARD_FLAME_ARROW)  // SPWI303.SPL (????????? ??????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_POISON)  // SPPR411.SPL (??)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		Spell(LastSeenBy(Myself),CLERIC_POISON)  // SPPR411.SPL (??)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_GLITTERDUST)  // SPWI224.SPL (?????????? ????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	OR(2)
		NumCreatureGT([GOODCUTOFF],1)
		CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	OR(5)
		!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
		!CheckStat(LastSeenBy(Myself),0,SANCTUARY)
		!CheckStat(LastSeenBy(Myself),0,SHIELDGLOBE)
		HasBounceEffects(LastSeenBy(Myself))
		!CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		Spell(LastSeenBy(Myself),WIZARD_GLITTERDUST)  // SPWI224.SPL (?????????? ????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_DOOM)  // SPPR113.SPL (????????????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		Spell(LastSeenBy(Myself),CLERIC_DOOM)  // SPPR113.SPL (????????????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_MAGIC_MISSILE)  // SPWI112.SPL (?????????? ??????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		Spell(LastSeenBy(Myself),WIZARD_MAGIC_MISSILE)  // SPWI112.SPL (?????????? ??????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_MELF_ACID_ARROW)  // SPWI211.SPL (????????? ?????? ??????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		Spell(LastSeenBy(Myself),WIZARD_MELF_ACID_ARROW)  // SPWI211.SPL (????????? ?????? ??????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(WIZARD_CHROMATIC_ORB)  // SPWI118.SPL (??????? ?????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		Spell(LastSeenBy(Myself),WIZARD_CHROMATIC_ORB)  // SPWI118.SPL (??????? ?????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	HaveSpell(CLERIC_COMMAND)  // SPPR102.SPL (??????)
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREPRIEST)
	!StateCheck(Myself,STATE_SILENCED)
	See(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!StateCheck(LastSeenBy(Myself),STATE_DISABLED)
	CheckStat(LastSeenBy(Myself),0,MINORGLOBE)
	CheckStat(LastSeenBy(Myself),0,SCRIPTINGSTATE3)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		SetGlobalTimer("Action_Timer","LOCALS",ONE_ROUND)
		DestroyItem("RZSEEINV")  // ?????????? ??????
		Spell(LastSeenBy(Myself),CLERIC_COMMAND)  // SPPR102.SPL (??????)
	RESPONSE #50
		Continue()
END

IF
	!GlobalTimerNotExpired("RZ_Run_Away_Timer","LOCALS")
	Global("Out_of_Spells","LOCALS",0)
	CheckStat(Myself,0,POLYMORPHED)
	Range(NearestEnemyOf(Myself),10)
	RandomNumGT(20,5)
THEN
	RESPONSE #100
		SetGlobalTimer("RZ_Run_To_Safety","LOCALS",3)
		SetGlobalTimer("RZ_Run_Away_Timer","LOCALS",TWO_ROUNDS)
		RunAwayFrom(NearestEnemyOf(Myself),45)
END

IF
	Global("Out_of_Spells","LOCALS",0)
	!GlobalTimerNotExpired("Action_Timer","LOCALS")
	CheckStat(Myself,0,POLYMORPHED)
	CheckStatLT(Myself,34,SPELLFAILUREMAGE)
	!StateCheck(Myself,STATE_SILENCED)
	OR(10)
		!StateCheck([GOODCUTOFF],STATE_DISABLED)
		!StateCheck(SecondNearest([GOODCUTOFF]),STATE_DISABLED)
		!StateCheck(ThirdNearest([GOODCUTOFF]),STATE_DISABLED)
		!StateCheck(FourthNearest([GOODCUTOFF]),STATE_DISABLED)
		!StateCheck(FifthNearest([GOODCUTOFF]),STATE_DISABLED)
		!StateCheck(SixthNearest([GOODCUTOFF]),STATE_DISABLED)
		!StateCheck(SeventhNearest([GOODCUTOFF]),STATE_DISABLED)
		!StateCheck(EighthNearest([GOODCUTOFF]),STATE_DISABLED)
		!StateCheck(NinthNearest([GOODCUTOFF]),STATE_DISABLED)
		!StateCheck(TenthNearest([GOODCUTOFF]),STATE_DISABLED)
THEN
	RESPONSE #100
END

IF
	GlobalTimerNotExpired("RZ_Run_To_Safety","LOCALS")
THEN
	RESPONSE #100
END

IF
	See(Myself)
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	See(NearestEnemyOf(Myself))
	OR(6)
		RandomNumGT(100,33)
		!See(LastAttackerOf(Myself))
		!Range(LastAttackerOf(Myself),15)
		!CheckStat(LastAttackerOf(Myself),0,SANCTUARY)
		StateCheck(LastAttackerOf(Myself),STATE_INVISIBLE)
		StateCheck(LastAttackerOf(Myself),STATE_DISABLED)
	OR(8)
		RandomNumGT(100,33)
		!Heard([ENEMY],HELP101)
		Range(LastHeardBy(Myself),0)
		!See(LastAttackerOf(LastHeardBy(Myself)))
		!Range(LastAttackerOf(LastHeardBy(Myself)),20)
		!CheckStat(LastAttackerOf(LastHeardBy(Myself)),0,SANCTUARY)
		StateCheck(LastAttackerOf(LastHeardBy(Myself)),STATE_INVISIBLE)
		StateCheck(LastAttackerOf(LastHeardBy(Myself)),STATE_DISABLED)
	OR(7)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,STONESKINS)
		StateCheck(MostDamagedOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		!StateCheck(MostDamagedOf([PC]),STATE_IMMOBILE)
	OR(7)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,STONESKINS)
		StateCheck(MostDamagedOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		CheckStat(MostDamagedOf([PC]),0,HELD)
	OR(7)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,STONESKINS)
		StateCheck(MostDamagedOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		CheckStat(MostDamagedOf([PC]),0,CasterHold)
	OR(7)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,STONESKINS)
		StateCheck(StrongestOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		!StateCheck(StrongestOf([PC]),STATE_IMMOBILE)
	OR(7)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,STONESKINS)
		StateCheck(StrongestOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		CheckStat(StrongestOf([PC]),0,HELD)
	OR(7)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,STONESKINS)
		StateCheck(StrongestOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		CheckStat(StrongestOf([PC]),0,CasterHold)
	OR(7)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,STONESKINS)
		StateCheck(WeakestOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		!StateCheck(WeakestOf([PC]),STATE_IMMOBILE)
	OR(7)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,STONESKINS)
		StateCheck(WeakestOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		CheckStat(WeakestOf([PC]),0,HELD)
	OR(7)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,STONESKINS)
		StateCheck(WeakestOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		CheckStat(WeakestOf([PC]),0,CasterHold)
	OR(7)
		RandomNumGT(100,33)
		!See([PC])
		!CheckStat([PC],0,STONESKINS)
		StateCheck([PC],STATE_MIRRORIMAGE)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		!StateCheck([PC],STATE_IMMOBILE)
	OR(7)
		RandomNumGT(100,33)
		!See([PC])
		!CheckStat([PC],0,STONESKINS)
		StateCheck([PC],STATE_MIRRORIMAGE)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		CheckStat([PC],0,HELD)
	OR(7)
		RandomNumGT(100,33)
		!See([PC])
		!CheckStat([PC],0,STONESKINS)
		StateCheck([PC],STATE_MIRRORIMAGE)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		CheckStat([PC],0,CasterHold)
	OR(7)
		RandomNumGT(100,33)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,STONESKINS)
		StateCheck(SecondNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SecondNearest([PC]),STATE_IMMOBILE)
	OR(7)
		RandomNumGT(100,33)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,STONESKINS)
		StateCheck(SecondNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		CheckStat(SecondNearest([PC]),0,HELD)
	OR(7)
		RandomNumGT(100,33)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,STONESKINS)
		StateCheck(SecondNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		CheckStat(SecondNearest([PC]),0,CasterHold)
	OR(7)
		RandomNumGT(100,33)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,STONESKINS)
		StateCheck(ThirdNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		!StateCheck(ThirdNearest([PC]),STATE_IMMOBILE)
	OR(7)
		RandomNumGT(100,33)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,STONESKINS)
		StateCheck(ThirdNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		CheckStat(ThirdNearest([PC]),0,HELD)
	OR(7)
		RandomNumGT(100,33)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,STONESKINS)
		StateCheck(ThirdNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		CheckStat(ThirdNearest([PC]),0,CasterHold)
	OR(7)
		RandomNumGT(100,33)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,STONESKINS)
		StateCheck(FourthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FourthNearest([PC]),STATE_IMMOBILE)
	OR(7)
		RandomNumGT(100,33)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,STONESKINS)
		StateCheck(FourthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FourthNearest([PC]),0,HELD)
	OR(7)
		RandomNumGT(100,33)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,STONESKINS)
		StateCheck(FourthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FourthNearest([PC]),0,CasterHold)
	OR(7)
		RandomNumGT(100,33)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,STONESKINS)
		StateCheck(FifthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FifthNearest([PC]),STATE_IMMOBILE)
	OR(7)
		RandomNumGT(100,33)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,STONESKINS)
		StateCheck(FifthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FifthNearest([PC]),0,HELD)
	OR(7)
		RandomNumGT(100,33)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,STONESKINS)
		StateCheck(FifthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FifthNearest([PC]),0,CasterHold)
	OR(7)
		RandomNumGT(100,33)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,STONESKINS)
		StateCheck(SixthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SixthNearest([PC]),STATE_IMMOBILE)
	OR(7)
		RandomNumGT(100,33)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,STONESKINS)
		StateCheck(SixthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		CheckStat(SixthNearest([PC]),0,HELD)
	OR(7)
		RandomNumGT(100,33)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,STONESKINS)
		StateCheck(SixthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		CheckStat(SixthNearest([PC]),0,CasterHold)
	OR(7)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,STONESKINS)
		StateCheck(MostDamagedOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		StateCheck(MostDamagedOf([PC]),STATE_DISABLED)
	OR(7)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,STONESKINS)
		StateCheck(StrongestOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		StateCheck(StrongestOf([PC]),STATE_DISABLED)
	OR(7)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,STONESKINS)
		StateCheck(WeakestOf([PC]),STATE_MIRRORIMAGE)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		StateCheck(WeakestOf([PC]),STATE_DISABLED)
	OR(7)
		RandomNumGT(100,25)
		!See([PC])
		!CheckStat([PC],0,STONESKINS)
		StateCheck([PC],STATE_MIRRORIMAGE)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_DISABLED)
	OR(7)
		RandomNumGT(100,46)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,STONESKINS)
		StateCheck(SecondNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(7)
		RandomNumGT(100,63)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,STONESKINS)
		StateCheck(ThirdNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(7)
		RandomNumGT(100,76)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,STONESKINS)
		StateCheck(FourthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(7)
		RandomNumGT(100,85)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,STONESKINS)
		StateCheck(FifthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(7)
		RandomNumGT(100,90)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,STONESKINS)
		StateCheck(SixthNearest([PC]),STATE_MIRRORIMAGE)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,STONESKINS)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		!StateCheck(MostDamagedOf([PC]),STATE_IMMOBILE)
	OR(6)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,STONESKINS)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		CheckStat(MostDamagedOf([PC]),0,HELD)
	OR(6)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,STONESKINS)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		CheckStat(MostDamagedOf([PC]),0,CasterHold)
	OR(6)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,STONESKINS)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		!StateCheck(StrongestOf([PC]),STATE_IMMOBILE)
	OR(6)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,STONESKINS)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		CheckStat(StrongestOf([PC]),0,HELD)
	OR(6)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,STONESKINS)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		CheckStat(StrongestOf([PC]),0,CasterHold)
	OR(6)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,STONESKINS)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		!StateCheck(WeakestOf([PC]),STATE_IMMOBILE)
	OR(6)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,STONESKINS)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		CheckStat(WeakestOf([PC]),0,HELD)
	OR(6)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,STONESKINS)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		CheckStat(WeakestOf([PC]),0,CasterHold)
	OR(6)
		RandomNumGT(100,33)
		!See([PC])
		!CheckStat([PC],0,STONESKINS)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		!StateCheck([PC],STATE_IMMOBILE)
	OR(6)
		RandomNumGT(100,33)
		!See([PC])
		!CheckStat([PC],0,STONESKINS)
		!CheckStat(Nearest([PC]),0,SANCTUARY)
		StateCheck(Nearest([PC]),STATE_INVISIBLE)
		CheckStat([PC],0,HELD)
	OR(6)
		RandomNumGT(100,33)
		!See([PC])
		!CheckStat([PC],0,STONESKINS)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		CheckStat([PC],0,CasterHold)
	OR(6)
		RandomNumGT(100,33)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,STONESKINS)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SecondNearest([PC]),STATE_IMMOBILE)
	OR(6)
		RandomNumGT(100,33)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,STONESKINS)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		CheckStat(SecondNearest([PC]),0,HELD)
	OR(6)
		RandomNumGT(100,33)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,STONESKINS)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		CheckStat(SecondNearest([PC]),0,CasterHold)
	OR(6)
		RandomNumGT(100,33)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,STONESKINS)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		!StateCheck(ThirdNearest([PC]),STATE_IMMOBILE)
	OR(6)
		RandomNumGT(100,33)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,STONESKINS)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		CheckStat(ThirdNearest([PC]),0,HELD)
	OR(6)
		RandomNumGT(100,33)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,STONESKINS)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		CheckStat(ThirdNearest([PC]),0,CasterHold)
	OR(6)
		RandomNumGT(100,33)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,STONESKINS)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FourthNearest([PC]),STATE_IMMOBILE)
	OR(6)
		RandomNumGT(100,33)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,STONESKINS)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FourthNearest([PC]),0,HELD)
	OR(6)
		RandomNumGT(100,33)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,STONESKINS)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FourthNearest([PC]),0,CasterHold)
	OR(6)
		RandomNumGT(100,33)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,STONESKINS)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FifthNearest([PC]),STATE_IMMOBILE)
	OR(6)
		RandomNumGT(100,33)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,STONESKINS)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FifthNearest([PC]),0,HELD)
	OR(6)
		RandomNumGT(100,33)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,STONESKINS)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FifthNearest([PC]),0,CasterHold)
	OR(6)
		RandomNumGT(100,33)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,STONESKINS)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SixthNearest([PC]),STATE_IMMOBILE)
	OR(6)
		RandomNumGT(100,33)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,STONESKINS)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		CheckStat(SixthNearest([PC]),0,HELD)
	OR(6)
		RandomNumGT(100,33)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,STONESKINS)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		CheckStat(SixthNearest([PC]),0,CasterHold)
	OR(6)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,STONESKINS)
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		StateCheck(MostDamagedOf([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,STONESKINS)
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		StateCheck(StrongestOf([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,STONESKINS)
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		StateCheck(WeakestOf([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,25)
		!See([PC])
		!CheckStat([PC],0,STONESKINS)
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_DISABLED)
	OR(6)
		RandomNumGT(100,46)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,STONESKINS)
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,63)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,STONESKINS)
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,76)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,STONESKINS)
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,85)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,STONESKINS)
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(6)
		RandomNumGT(100,90)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,STONESKINS)
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(5)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		!StateCheck(MostDamagedOf([PC]),STATE_IMMOBILE)
	OR(5)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		CheckStat(MostDamagedOf([PC]),0,HELD)
	OR(5)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		CheckStat(MostDamagedOf([PC]),0,CasterHold)
	OR(5)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		!StateCheck(StrongestOf([PC]),STATE_IMMOBILE)
	OR(5)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		CheckStat(StrongestOf([PC]),0,HELD)
	OR(5)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		CheckStat(StrongestOf([PC]),0,CasterHold)
	OR(5)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		!StateCheck(WeakestOf([PC]),STATE_IMMOBILE)
	OR(5)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		CheckStat(WeakestOf([PC]),0,HELD)
	OR(5)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		CheckStat(WeakestOf([PC]),0,CasterHold)
	OR(5)
		RandomNumGT(100,33)
		!See([PC])
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		!StateCheck([PC],STATE_IMMOBILE)
	OR(5)
		RandomNumGT(100,33)
		!See([PC])
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		CheckStat([PC],0,HELD)
	OR(5)
		RandomNumGT(100,33)
		!See([PC])
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		CheckStat([PC],0,CasterHold)
	OR(5)
		RandomNumGT(100,33)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SecondNearest([PC]),STATE_IMMOBILE)
	OR(5)
		RandomNumGT(100,33)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		CheckStat(SecondNearest([PC]),0,HELD)
	OR(5)
		RandomNumGT(100,33)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		CheckStat(SecondNearest([PC]),0,CasterHold)
	OR(5)
		RandomNumGT(100,33)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		!StateCheck(ThirdNearest([PC]),STATE_IMMOBILE)
	OR(5)
		RandomNumGT(100,33)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		CheckStat(ThirdNearest([PC]),0,HELD)
	OR(5)
		RandomNumGT(100,33)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		CheckStat(ThirdNearest([PC]),0,CasterHold)
	OR(5)
		RandomNumGT(100,33)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FourthNearest([PC]),STATE_IMMOBILE)
	OR(5)
		RandomNumGT(100,33)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FourthNearest([PC]),0,HELD)
	OR(5)
		RandomNumGT(100,33)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FourthNearest([PC]),0,CasterHold)
	OR(5)
		RandomNumGT(100,33)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(FifthNearest([PC]),STATE_IMMOBILE)
	OR(5)
		RandomNumGT(100,33)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FifthNearest([PC]),0,HELD)
	OR(5)
		RandomNumGT(100,33)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		CheckStat(FifthNearest([PC]),0,CasterHold)
	OR(5)
		RandomNumGT(100,33)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		!StateCheck(SixthNearest([PC]),STATE_IMMOBILE)
	OR(5)
		RandomNumGT(100,33)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		CheckStat(SixthNearest([PC]),0,HELD)
	OR(5)
		RandomNumGT(100,33)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		CheckStat(SixthNearest([PC]),0,CasterHold)
	OR(5)
		RandomNumGT(100,33)
		!See(MostDamagedOf([PC]))
		!CheckStat(MostDamagedOf([PC]),0,SANCTUARY)
		StateCheck(MostDamagedOf([PC]),STATE_INVISIBLE)
		StateCheck(MostDamagedOf([PC]),STATE_DISABLED)
	OR(5)
		RandomNumGT(100,33)
		!See(StrongestOf([PC]))
		!CheckStat(StrongestOf([PC]),0,SANCTUARY)
		StateCheck(StrongestOf([PC]),STATE_INVISIBLE)
		StateCheck(StrongestOf([PC]),STATE_DISABLED)
	OR(5)
		RandomNumGT(100,33)
		!See(WeakestOf([PC]))
		!CheckStat(WeakestOf([PC]),0,SANCTUARY)
		StateCheck(WeakestOf([PC]),STATE_INVISIBLE)
		StateCheck(WeakestOf([PC]),STATE_DISABLED)
	OR(5)
		RandomNumGT(100,25)
		!See([PC])
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
		StateCheck([PC],STATE_DISABLED)
	OR(5)
		RandomNumGT(100,46)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
		StateCheck(SecondNearest([PC]),STATE_DISABLED)
	OR(5)
		RandomNumGT(100,63)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
		StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	OR(5)
		RandomNumGT(100,76)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FourthNearest([PC]),STATE_DISABLED)
	OR(5)
		RandomNumGT(100,85)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
		StateCheck(FifthNearest([PC]),STATE_DISABLED)
	OR(5)
		RandomNumGT(100,90)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
		StateCheck(SixthNearest([PC]),STATE_DISABLED)
	OR(4)
		RandomNumGT(100,25)
		!See([PC])
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
	OR(4)
		RandomNumGT(100,46)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
	OR(4)
		RandomNumGT(100,63)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
	OR(4)
		RandomNumGT(100,76)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
	OR(4)
		RandomNumGT(100,85)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
	OR(4)
		RandomNumGT(100,90)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
	OR(3)
		!See([PC])
		!CheckStat([PC],0,SANCTUARY)
		StateCheck([PC],STATE_INVISIBLE)
	OR(3)
		!See(SecondNearest([PC]))
		!CheckStat(SecondNearest([PC]),0,SANCTUARY)
		StateCheck(SecondNearest([PC]),STATE_INVISIBLE)
	OR(3)
		!See(ThirdNearest([PC]))
		!CheckStat(ThirdNearest([PC]),0,SANCTUARY)
		StateCheck(ThirdNearest([PC]),STATE_INVISIBLE)
	OR(3)
		!See(FourthNearest([PC]))
		!CheckStat(FourthNearest([PC]),0,SANCTUARY)
		StateCheck(FourthNearest([PC]),STATE_INVISIBLE)
	OR(3)
		!See(FifthNearest([PC]))
		!CheckStat(FifthNearest([PC]),0,SANCTUARY)
		StateCheck(FifthNearest([PC]),STATE_INVISIBLE)
	OR(3)
		!See(SixthNearest([PC]))
		!CheckStat(SixthNearest([PC]),0,SANCTUARY)
		StateCheck(SixthNearest([PC]),STATE_INVISIBLE)
	OR(3)
		!See(NearestEnemyOf(Myself))
		!CheckStat(NearestEnemyOf(Myself),0,SANCTUARY)
		StateCheck(NearestEnemyOf(Myself),STATE_INVISIBLE)
	OR(3)
		!See(SecondNearestEnemyOf(Myself))
		!CheckStat(SecondNearestEnemyOf(Myself),0,SANCTUARY)
		StateCheck(SecondNearestEnemyOf(Myself),STATE_INVISIBLE)
	OR(3)
		!See(ThirdNearestEnemyOf(Myself))
		!CheckStat(ThirdNearestEnemyOf(Myself),0,SANCTUARY)
		StateCheck(ThirdNearestEnemyOf(Myself),STATE_INVISIBLE)
	OR(3)
		!See(FourthNearestEnemyOf(Myself))
		!CheckStat(FourthNearestEnemyOf(Myself),0,SANCTUARY)
		StateCheck(FourthNearestEnemyOf(Myself),STATE_INVISIBLE)
	OR(3)
		!See(FifthNearestEnemyOf(Myself))
		!CheckStat(FifthNearestEnemyOf(Myself),0,SANCTUARY)
		StateCheck(FifthNearestEnemyOf(Myself),STATE_INVISIBLE)
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!RandomNum(21,6)
	OR(3)
		ActionListEmpty()
		!Global("Out_of_Spells","LOCALS",0)
		!CheckStat(Myself,0,POLYMORPHED)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Global("Out_of_Spells","LOCALS",0)
		!CheckStat(Myself,0,POLYMORPHED)
	See(LastSeenBy(Myself))
	OR(2)
		Allegiance(LastSeenBy(Myself),PC)
		CheckStatLT(LastSeenBy(Myself),75,RESISTSLASHING)
	OR(8)
		Range(LastSeenBy(Myself),6)
		!Global("Out_of_Spells","LOCALS",0)
		!CheckStat(Myself,0,POLYMORPHED)
		StateCheck(LastSeenBy(Myself),STATE_IMMOBILE)
		!CheckStat(LastSeenBy(Myself),0,CasterHold)
		!CheckStat(LastSeenBy(Myself),0,HELD)
		!CheckStatLT(Myself,34,SPELLFAILUREMAGE)
		StateCheck(Myself,STATE_SILENCED)
	OR(6)
		NumCreature([GOODCUTOFF],1)
		Range(LastSeenBy(Myself),15)
		!CheckStat(Myself,0,POLYMORPHED)
		!CheckStatLT(Myself,34,SPELLFAILUREMAGE)
		StateCheck(Myself,STATE_SILENCED)
		!Global("Out_of_Spells","LOCALS",0)
	CheckStat(LastSeenBy(Myself),0,SANCTUARY)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!Allegiance(LastSeenBy(Myself),ENEMY)
THEN
	RESPONSE #100
		EquipMostDamagingMelee()
		AttackReevaluate(LastSeenBy(Myself),45)
END

IF
	ActionListEmpty()
THEN
	RESPONSE #100
		RandomWalk()
END

