IF
	Allegiance(Myself,ENEMY)
	Delay(6)
	!GlobalTimerNotExpired("castspell","LOCALS")
	OR(2)
		NumCreatureLT([ENEMY.0.DEMONIC],3)
		NumCreatureVsPartyLT([ENEMY.0.DEMONIC],0)
	!Global("gated","LOCALS",1)
	!Range(NearestEnemyOf(Myself),10)
	OR(2)
		NumInPartyAliveGT(2)
		DifficultyGT(EASY)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SetGlobal("gated","LOCALS",1)
		SpellNoDecRES("NWGATE1",Myself)  // ?????
	RESPONSE #100
		Continue()
END

IF
	HPPercentLT(Myself,15)
	HPGT(Myself,0)
	Range(NearestEnemyOf(Myself),10)
	HPPercentGT(NearestEnemyOf(Myself),20)
	!GlobalTimerNotExpired("Spell","LOCALS")
	Global("GateAway","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobal("GateAway","LOCALS",1)
		CreateVisualEffectObject("SPGFLSH1",Myself)
		DisplayString(Myself,#14260)  // ?????
		DestroySelf()
END

IF
	Allegiance(Myself,ALLY)
	!Detect([ENEMY])
	CombatCounter(0)
	Global("GateAway","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobal("GateAway","LOCALS",1)
		CreateVisualEffectObject("SPGFLSH1",Myself)
		DisplayString(Myself,#14260)  // ?????
		DestroySelf()
END

IF
	!Global("inafight","LOCALS",1)
	OR(8)
		AttackedBy([GOODCUTOFF.0.0.0.0.SUMMONED],DEFAULT)
		AttackedBy([PC],DEFAULT)
		AttackedBy([FAMILIAR],DEFAULT)
		AttackedBy([ALLY],DEFAULT)
		AttackedBy([CONTROLLED],DEFAULT)
		AttackedBy([CHARMED],DEFAULT)
		SpellCastOnMe([GOODCUTOFF.0.0.0.0.SUMMONED],0)
		See(LastSummonerOf(Myself))
THEN
	RESPONSE #100
		Enemy()
		SetGlobal("inafight","LOCALS",1)
		SetGlobalTimer("stayontarget","LOCALS",TWO_ROUNDS)
		SetGlobalTimer("seedefences","LOCALS",ONE_ROUND)
		Continue()
END

IF
	!Global("inafight","LOCALS",1)
	See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SetGlobal("inafight","LOCALS",1)
		SetGlobalTimer("stayontarget","LOCALS",TWO_ROUNDS)
		SetGlobalTimer("seedefences","LOCALS",ONE_ROUND)
		Continue()
END

IF
	See(NearestEnemyOf(Myself))
	Global("rest","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobalTimer("rtime","LOCALS",2000)
		SetGlobal("rest","LOCALS",1)
		Continue()
END

IF
	Global("rest","LOCALS",1)
	GlobalTimerExpired("rtime","LOCALS")
	!See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SetGlobal("rest","LOCALS",0)
		ApplySpell(Myself,RESTORE_FULL_HEALTH)  // SPIN746.SPL (No such index)
		Rest()
END

IF
	Allegiance(Myself,ENEMY)
	OR(12)
		AttackedBy([GOODCUTOFF.0.0.0.0.SUMMONED],DEFAULT)
		AttackedBy([PC],DEFAULT)
		AttackedBy([FAMILIAR],DEFAULT)
		AttackedBy([ALLY],DEFAULT)
		AttackedBy([CONTROLLED],DEFAULT)
		AttackedBy([CHARMED],DEFAULT)
		SpellCastOnMe([GOODCUTOFF.0.0.0.0.SUMMONED],0)
		SpellCastOnMe([PC],0)
		SpellCastOnMe([FAMILIAR],0)
		SpellCastOnMe([ALLY],0)
		SpellCastOnMe([CONTROLLED],0)
		SpellCastOnMe([CHARMED],0)
	!GlobalTimerNotExpired("whatthe","LOCALS")
	!See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SetGlobalTimer("whatthe","LOCALS",TWO_ROUNDS)
		Continue()
END

IF
	!See(NearestEnemyOf(Myself))
	GlobalTimerNotExpired("whatthe","LOCALS")
THEN
	RESPONSE #100
		RandomWalkContinuous()
END

IF
	See(NearestEnemyOf(Myself))
	!Global("chasePC","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobal("chasePC","LOCALS",0)
		ClearActions(Myself)
END

IF
	!Detect(NearestEnemyOf(Myself))
	!Global("inafight","LOCALS",1)
THEN
	RESPONSE #100
		NoAction()
END

IF
	See(NearestEnemyOf(Myself))
	!Global("chasing","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobal("chasing","LOCALS",0)
		ClearActions(Myself)
END

IF
	!GlobalTimerNotExpired("chasetarget","LOCALS")
	Allegiance(Myself,ENEMY)
	See(Player1)
THEN
	RESPONSE #100
		SetGlobalTimer("chasetarget","LOCALS",ONE_HOUR)
		SetGlobal("chasePC","LOCALS",1)
		Continue()
END

IF
	!GlobalTimerNotExpired("chasetarget","LOCALS")
	Allegiance(Myself,ENEMY)
	See(Player2)
THEN
	RESPONSE #100
		SetGlobalTimer("chasetarget","LOCALS",ONE_HOUR)
		SetGlobal("chasePC","LOCALS",2)
		Continue()
END

IF
	!GlobalTimerNotExpired("chasetarget","LOCALS")
	Allegiance(Myself,ENEMY)
	See(Player3)
THEN
	RESPONSE #100
		SetGlobalTimer("chasetarget","LOCALS",ONE_HOUR)
		SetGlobal("chasePC","LOCALS",3)
		Continue()
END

IF
	!GlobalTimerNotExpired("chasetarget","LOCALS")
	Allegiance(Myself,ENEMY)
	See(Player4)
THEN
	RESPONSE #100
		SetGlobalTimer("chasetarget","LOCALS",ONE_HOUR)
		SetGlobal("chasePC","LOCALS",4)
		Continue()
END

IF
	!GlobalTimerNotExpired("chasetarget","LOCALS")
	Allegiance(Myself,ENEMY)
	See(Player5)
THEN
	RESPONSE #100
		SetGlobalTimer("chasetarget","LOCALS",ONE_HOUR)
		SetGlobal("chasePC","LOCALS",5)
		Continue()
END

IF
	!GlobalTimerNotExpired("chasetarget","LOCALS")
	Allegiance(Myself,ENEMY)
	See(Player6)
THEN
	RESPONSE #100
		SetGlobalTimer("chasetarget","LOCALS",ONE_HOUR)
		SetGlobal("chasePC","LOCALS",6)
		Continue()
END

IF
	Global("chasePC","LOCALS",1)
	StateCheck(Player1,STATE_REALLY_DEAD)
THEN
	RESPONSE #100
		SetGlobal("chasePC","LOCALS",0)
		Continue()
END

IF
	Global("chasePC","LOCALS",2)
	StateCheck(Player2,STATE_REALLY_DEAD)
THEN
	RESPONSE #100
		SetGlobal("chasePC","LOCALS",0)
		Continue()
END

IF
	Global("chasePC","LOCALS",3)
	StateCheck(Player3,STATE_REALLY_DEAD)
THEN
	RESPONSE #100
		SetGlobal("chasePC","LOCALS",0)
		Continue()
END

IF
	Global("chasePC","LOCALS",4)
	StateCheck(Player4,STATE_REALLY_DEAD)
THEN
	RESPONSE #100
		SetGlobal("chasePC","LOCALS",0)
		Continue()
END

IF
	Global("chasePC","LOCALS",5)
	StateCheck(Player5,STATE_REALLY_DEAD)
THEN
	RESPONSE #100
		SetGlobal("chasePC","LOCALS",0)
		Continue()
END

IF
	Global("chasePC","LOCALS",6)
	StateCheck(Player6,STATE_REALLY_DEAD)
THEN
	RESPONSE #100
		SetGlobal("chasePC","LOCALS",0)
		Continue()
END

IF
	See(NearestEnemyOf(Myself))
	!GlobalTimerNotExpired("spellturning","LOCALS")
	!AreaCheck("ar3004")
THEN
	RESPONSE #100
		SetGlobalTimer("spellturning","LOCALS",1000)
		ApplySpell(Myself,WIZARD_MINOR_SPELL_TURNING)  // SPWI522.SPL (????? ????????? ??????????)
		Continue()
END

IF
	OR(3)
		See([0.0.DEMONIC.0.0.0.LAWFUL_EVIL])
		See([0.0.0.TANARI.0.0.LAWFUL_EVIL])
		See([0.0.0.0.0.SUMMONED_DEMON.LAWFUL_EVIL])
THEN
	RESPONSE #100
		AttackOneRound(LastSeenBy(Myself))
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!GlobalTimerNotExpired("teleport","LOCALS")
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC])  // ??? ?????????????
	Allegiance(Myself,ENEMY)
	!Allegiance([PC],ENEMY)
	!StateCheck([PC],STATE_IMMOBILE)
	!CheckStatGT([PC],0,HELD)
	!Kit([PC],UNDEADHUNTER)
	!CheckStatGT([PC],0,SCRIPTINGSTATE3)
	!Range([PC],15)
	OR(3)
		CheckStatGT([PC],-6,ARMORCLASS)
		HPPercentLT([PC],30)
		Class([PC],MAGE_ALL)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!HPPercentLT(LastTargetedBy(Myself),30)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!Class(LastTargetedBy(Myself),MAGE_ALL)
	!AreaCheck("AR2202")
	!AreaCheck("AR3008")
	See([PC])
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!GlobalTimerNotExpired("teleport","LOCALS")
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SecondNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SecondNearest([PC]))  // ??? ?????????????
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearest([PC]),ENEMY)
	!StateCheck(SecondNearest([PC]),STATE_IMMOBILE)
	!CheckStatGT(SecondNearest([PC]),0,HELD)
	!Kit(SecondNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(SecondNearest([PC]),0,SCRIPTINGSTATE3)
	!Range(SecondNearest([PC]),15)
	OR(3)
		CheckStatGT(SecondNearest([PC]),-6,ARMORCLASS)
		HPPercentLT(SecondNearest([PC]),30)
		Class(SecondNearest([PC]),MAGE_ALL)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!HPPercentLT(LastTargetedBy(Myself),30)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!Class(LastTargetedBy(Myself),MAGE_ALL)
	!AreaCheck("AR2202")
	!AreaCheck("AR3008")
	See(SecondNearest([PC]))
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!GlobalTimerNotExpired("teleport","LOCALS")
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(ThirdNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",ThirdNearest([PC]))  // ??? ?????????????
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearest([PC]),ENEMY)
	!StateCheck(ThirdNearest([PC]),STATE_IMMOBILE)
	!CheckStatGT(ThirdNearest([PC]),0,HELD)
	!Kit(ThirdNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(ThirdNearest([PC]),0,SCRIPTINGSTATE3)
	!Range(ThirdNearest([PC]),15)
	OR(3)
		CheckStatGT(ThirdNearest([PC]),-6,ARMORCLASS)
		HPPercentLT(ThirdNearest([PC]),30)
		Class(ThirdNearest([PC]),MAGE_ALL)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!HPPercentLT(LastTargetedBy(Myself),30)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!Class(LastTargetedBy(Myself),MAGE_ALL)
	!AreaCheck("AR2202")
	!AreaCheck("AR3008")
	See(ThirdNearest([PC]))
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!GlobalTimerNotExpired("teleport","LOCALS")
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(FourthNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(FourthNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(FourthNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(FourthNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(FourthNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",FourthNearest([PC]))  // ??? ?????????????
	Allegiance(Myself,ENEMY)
	!Allegiance(FourthNearest([PC]),ENEMY)
	!StateCheck(FourthNearest([PC]),STATE_IMMOBILE)
	!CheckStatGT(FourthNearest([PC]),0,HELD)
	!Kit(FourthNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(FourthNearest([PC]),0,SCRIPTINGSTATE3)
	!Range(FourthNearest([PC]),15)
	OR(3)
		CheckStatGT(FourthNearest([PC]),-6,ARMORCLASS)
		HPPercentLT(FourthNearest([PC]),30)
		Class(FourthNearest([PC]),MAGE_ALL)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!HPPercentLT(LastTargetedBy(Myself),30)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!Class(LastTargetedBy(Myself),MAGE_ALL)
	!AreaCheck("AR2202")
	!AreaCheck("AR3008")
	See(FourthNearest([PC]))
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!GlobalTimerNotExpired("teleport","LOCALS")
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(FifthNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(FifthNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(FifthNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(FifthNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(FifthNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",FifthNearest([PC]))  // ??? ?????????????
	Allegiance(Myself,ENEMY)
	!Allegiance(FifthNearest([PC]),ENEMY)
	!StateCheck(FifthNearest([PC]),STATE_IMMOBILE)
	!CheckStatGT(FifthNearest([PC]),0,HELD)
	!Kit(FifthNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(FifthNearest([PC]),0,SCRIPTINGSTATE3)
	!Range(FifthNearest([PC]),15)
	OR(3)
		CheckStatGT(FifthNearest([PC]),-6,ARMORCLASS)
		HPPercentLT(FifthNearest([PC]),30)
		Class(FifthNearest([PC]),MAGE_ALL)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!HPPercentLT(LastTargetedBy(Myself),30)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!Class(LastTargetedBy(Myself),MAGE_ALL)
	!AreaCheck("AR2202")
	!AreaCheck("AR3008")
	See(FifthNearest([PC]))
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!GlobalTimerNotExpired("teleport","LOCALS")
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SixthNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SixthNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SixthNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SixthNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SixthNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SixthNearest([PC]))  // ??? ?????????????
	Allegiance(Myself,ENEMY)
	!Allegiance(SixthNearest([PC]),ENEMY)
	!StateCheck(SixthNearest([PC]),STATE_IMMOBILE)
	!CheckStatGT(SixthNearest([PC]),0,HELD)
	!Kit(SixthNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(SixthNearest([PC]),0,SCRIPTINGSTATE3)
	!Range(SixthNearest([PC]),15)
	OR(3)
		CheckStatGT(SixthNearest([PC]),-6,ARMORCLASS)
		HPPercentLT(SixthNearest([PC]),30)
		Class(SixthNearest([PC]),MAGE_ALL)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!HPPercentLT(LastTargetedBy(Myself),30)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!Class(LastTargetedBy(Myself),MAGE_ALL)
	!AreaCheck("AR2202")
	!AreaCheck("AR3008")
	See(SixthNearest([PC]))
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!GlobalTimerNotExpired("teleport","LOCALS")
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(WorstAC,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(WorstAC,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(WorstAC,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(WorstAC,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(WorstAC,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",WorstAC)  // ??? ?????????????
	Allegiance(Myself,ENEMY)
	!Allegiance(WorstAC,ENEMY)
	!StateCheck(WorstAC,STATE_IMMOBILE)
	!CheckStatGT(WorstAC,0,HELD)
	!Kit(WorstAC,UNDEADHUNTER)
	!CheckStatGT(WorstAC,0,SCRIPTINGSTATE3)
	!Range(WorstAC,15)
	OR(3)
		CheckStatGT(WorstAC,-6,ARMORCLASS)
		HPPercentLT(WorstAC,30)
		Class(WorstAC,MAGE_ALL)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!HPPercentLT(LastTargetedBy(Myself),30)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!Class(LastTargetedBy(Myself),MAGE_ALL)
	!AreaCheck("AR2202")
	!AreaCheck("AR3008")
	See(WorstAC)
	False()
THEN
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!GlobalTimerNotExpired("teleport","LOCALS")
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(LastSeenBy(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(LastSeenBy(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(LastSeenBy(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(LastSeenBy(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(LastSeenBy(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",LastSeenBy(Myself))  // ??? ?????????????
	Allegiance(Myself,ENEMY)
	!Allegiance(LastSeenBy(Myself),ENEMY)
	!StateCheck(LastSeenBy(Myself),STATE_IMMOBILE)
	!CheckStatGT(LastSeenBy(Myself),0,HELD)
	!Kit(LastSeenBy(Myself),UNDEADHUNTER)
	!CheckStatGT(LastSeenBy(Myself),0,SCRIPTINGSTATE3)
	!Range(LastSeenBy(Myself),15)
	OR(3)
		CheckStatGT(LastSeenBy(Myself),-6,ARMORCLASS)
		HPPercentLT(LastSeenBy(Myself),30)
		Class(LastSeenBy(Myself),MAGE_ALL)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!HPPercentLT(LastTargetedBy(Myself),30)
	OR(3)
		!See(LastTargetedBy(Myself))
		!Range(LastTargetedBy(Myself),8)
		!Class(LastTargetedBy(Myself),MAGE_ALL)
	!AreaCheck("AR2202")
	!AreaCheck("AR3008")
	See(LastSeenBy(Myself))
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",7)
		SetGlobal("batform","LOCALS",0)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		ForceSpellRES("NWFITEL",LastSeenBy(Myself))  // ???????????? ????????????
		SetGlobalTimer("teleport","LOCALS",16)
	RESPONSE #100
		Continue()
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!AreaCheck("ar3008")
	!AreaCheck("ar3004")
	!GlobalTimerNotExpired("ethereal","LOCALS")
	HPPercentLT(Myself,50)
	See(NearestEnemyOf(Myself))
	!StateCheck(Myself,STATE_INVISIBLE)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SpellNoDec(Myself,SUCCUBUS_ETHEREAL)  // SPWI927.SPL (????????????)
		SetGlobalTimer("ethereal","LOCALS",THREE_ROUNDS)
		ApplySpell(Myself,WIZARD_SPELL_IMMUNITY_DIVINATION)  // SPWI592.SPL (?????????: ??????????)
END

IF
	HPPercentLT(Myself,90)
	StateCheck(Myself,STATE_INVISIBLE)
	Range(NearestEnemyOf(Myself),20)
THEN
	RESPONSE #100
		RunAwayFrom(NearestEnemyOf(Myself),60)
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!AreaCheck("ar3008")
	!AreaCheck("ar3004")
	HPPercentLT(Myself,90)
	StateCheck(Myself,STATE_INVISIBLE)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SpellNoDec(Myself,CLERIC_CURE_CRITICAL_WOUNDS)  // SPPR502.SPL (??????? ??????????? ???)
END

IF
	StateCheck(Myself,STATE_INVISIBLE)
THEN
	RESPONSE #100
		RandomWalkContinuous()
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!AreaCheck("ar3004")
	!AreaCheck("ar3008")
	See([PC.0.0.0.0.MALE])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.0.0.MALE],ENEMY)
	!StateCheck([PC.0.0.0.0.MALE],STATE_DISABLED)
	!CheckStatGT([PC.0.0.0.0.MALE],0,HELD)
	!Kit([PC.0.0.0.0.MALE],INQUISITOR)
	!Race([PC.0.0.0.0.MALE],ELF)
	!CheckStatGT([PC.0.0.0.0.MALE],0,CLERIC_CHAOTIC_COMMANDS)
	!General([PC.0.0.0.0.MALE],UNDEAD)
	!CheckStatGT([PC.0.0.0.0.MALE],50,RESISTMAGIC)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SpellNoDec([PC.0.0.0.0.MALE],SUCCUBUS_CHARM_MALE)  // SPWI930.SPL (?????????? ?????????)
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!AreaCheck("ar3004")
	!AreaCheck("ar3008")
	See(SecondNearest([PC.0.0.0.0.MALE]))
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearest([PC.0.0.0.0.MALE]),ENEMY)
	!StateCheck(SecondNearest([PC.0.0.0.0.MALE]),STATE_DISABLED)
	!CheckStatGT(SecondNearest([PC.0.0.0.0.MALE]),0,HELD)
	!Kit(SecondNearest([PC.0.0.0.0.MALE]),INQUISITOR)
	!Race(SecondNearest([PC.0.0.0.0.MALE]),ELF)
	!CheckStatGT(SecondNearest([PC.0.0.0.0.MALE]),0,CLERIC_CHAOTIC_COMMANDS)
	!General(SecondNearest([PC.0.0.0.0.MALE]),UNDEAD)
	!CheckStatGT(SecondNearest([PC.0.0.0.0.MALE]),50,RESISTMAGIC)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SpellNoDec(SecondNearest([PC.0.0.0.0.MALE]),SUCCUBUS_CHARM_MALE)  // SPWI930.SPL (?????????? ?????????)
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!AreaCheck("ar3004")
	!AreaCheck("ar3008")
	See(ThirdNearest([PC.0.0.0.0.MALE]))
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearest([PC.0.0.0.0.MALE]),ENEMY)
	!StateCheck(ThirdNearest([PC.0.0.0.0.MALE]),STATE_DISABLED)
	!CheckStatGT(ThirdNearest([PC.0.0.0.0.MALE]),0,HELD)
	!Kit(ThirdNearest([PC.0.0.0.0.MALE]),INQUISITOR)
	!Race(ThirdNearest([PC.0.0.0.0.MALE]),ELF)
	!CheckStatGT(ThirdNearest([PC.0.0.0.0.MALE]),0,CLERIC_CHAOTIC_COMMANDS)
	!General(ThirdNearest([PC.0.0.0.0.MALE]),UNDEAD)
	!CheckStatGT(ThirdNearest([PC.0.0.0.0.MALE]),50,RESISTMAGIC)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SpellNoDec(ThirdNearest([PC.0.0.0.0.MALE]),SUCCUBUS_CHARM_MALE)  // SPWI930.SPL (?????????? ?????????)
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!AreaCheck("ar3004")
	!AreaCheck("ar3008")
	See(FourthNearest([PC.0.0.0.0.MALE]))
	Allegiance(Myself,ENEMY)
	!Allegiance(FourthNearest([PC.0.0.0.0.MALE]),ENEMY)
	!StateCheck(FourthNearest([PC.0.0.0.0.MALE]),STATE_DISABLED)
	!CheckStatGT(FourthNearest([PC.0.0.0.0.MALE]),0,HELD)
	!Kit(FourthNearest([PC.0.0.0.0.MALE]),INQUISITOR)
	!Race(FourthNearest([PC.0.0.0.0.MALE]),ELF)
	!CheckStatGT(FourthNearest([PC.0.0.0.0.MALE]),0,CLERIC_CHAOTIC_COMMANDS)
	!General(FourthNearest([PC.0.0.0.0.MALE]),UNDEAD)
	!CheckStatGT(FourthNearest([PC.0.0.0.0.MALE]),50,RESISTMAGIC)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SpellNoDec(FourthNearest([PC.0.0.0.0.MALE]),SUCCUBUS_CHARM_MALE)  // SPWI930.SPL (?????????? ?????????)
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!AreaCheck("ar3004")
	!AreaCheck("ar3008")
	See([PC.0.0.0.0.FEMALE])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.0.0.FEMALE],ENEMY)
	!StateCheck([PC.0.0.0.0.FEMALE],STATE_DISABLED)
	!CheckStatGT([PC.0.0.0.0.FEMALE],0,HELD)
	!Kit([PC.0.0.0.0.FEMALE],INQUISITOR)
	!Race([PC.0.0.0.0.FEMALE],ELF)
	!CheckStatGT([PC.0.0.0.0.FEMALE],0,CLERIC_CHAOTIC_COMMANDS)
	!General([PC.0.0.0.0.FEMALE],UNDEAD)
	!CheckStatGT([PC.0.0.0.0.FEMALE],50,RESISTMAGIC)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SpellNoDec([PC.0.0.0.0.FEMALE],SUCCUBUS_CHARM_FEMALE)  // SPWI929.SPL (?????????? ?????????)
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!AreaCheck("ar3004")
	!AreaCheck("ar3008")
	See(SecondNearest([PC.0.0.0.0.FEMALE]))
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearest([PC.0.0.0.0.FEMALE]),ENEMY)
	!StateCheck(SecondNearest([PC.0.0.0.0.FEMALE]),STATE_DISABLED)
	!CheckStatGT(SecondNearest([PC.0.0.0.0.FEMALE]),0,HELD)
	!Kit(SecondNearest([PC.0.0.0.0.FEMALE]),INQUISITOR)
	!Race(SecondNearest([PC.0.0.0.0.FEMALE]),ELF)
	!CheckStatGT(SecondNearest([PC.0.0.0.0.FEMALE]),0,CLERIC_CHAOTIC_COMMANDS)
	!General(SecondNearest([PC.0.0.0.0.FEMALE]),UNDEAD)
	!CheckStatGT(SecondNearest([PC.0.0.0.0.FEMALE]),50,RESISTMAGIC)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SpellNoDec(SecondNearest([PC.0.0.0.0.FEMALE]),SUCCUBUS_CHARM_FEMALE)  // SPWI929.SPL (?????????? ?????????)
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!AreaCheck("ar3004")
	!AreaCheck("ar3008")
	See(ThirdNearest([PC.0.0.0.0.FEMALE]))
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearest([PC.0.0.0.0.FEMALE]),ENEMY)
	!StateCheck(ThirdNearest([PC.0.0.0.0.FEMALE]),STATE_DISABLED)
	!CheckStatGT(ThirdNearest([PC.0.0.0.0.FEMALE]),0,HELD)
	!Kit(ThirdNearest([PC.0.0.0.0.FEMALE]),INQUISITOR)
	!Race(ThirdNearest([PC.0.0.0.0.FEMALE]),ELF)
	!CheckStatGT(ThirdNearest([PC.0.0.0.0.FEMALE]),0,CLERIC_CHAOTIC_COMMANDS)
	!General(ThirdNearest([PC.0.0.0.0.FEMALE]),UNDEAD)
	!CheckStatGT(ThirdNearest([PC.0.0.0.0.FEMALE]),50,RESISTMAGIC)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SpellNoDec(ThirdNearest([PC.0.0.0.0.FEMALE]),SUCCUBUS_CHARM_FEMALE)  // SPWI929.SPL (?????????? ?????????)
END

IF
	!GlobalTimerNotExpired("castspell","LOCALS")
	!AreaCheck("ar3004")
	!AreaCheck("ar3008")
	See(FourthNearest([PC.0.0.0.0.FEMALE]))
	Allegiance(Myself,ENEMY)
	!Allegiance(FourthNearest([PC.0.0.0.0.FEMALE]),ENEMY)
	!StateCheck(FourthNearest([PC.0.0.0.0.FEMALE]),STATE_DISABLED)
	!CheckStatGT(FourthNearest([PC.0.0.0.0.FEMALE]),0,HELD)
	!Kit(FourthNearest([PC.0.0.0.0.FEMALE]),INQUISITOR)
	!Race(FourthNearest([PC.0.0.0.0.FEMALE]),ELF)
	!CheckStatGT(FourthNearest([PC.0.0.0.0.FEMALE]),0,CLERIC_CHAOTIC_COMMANDS)
	!General(FourthNearest([PC.0.0.0.0.FEMALE]),UNDEAD)
	!CheckStatGT(FourthNearest([PC.0.0.0.0.FEMALE]),50,RESISTMAGIC)
THEN
	RESPONSE #100
		SetGlobalTimer("castspell","LOCALS",ONE_ROUND)
		SpellNoDec(FourthNearest([PC.0.0.0.0.FEMALE]),SUCCUBUS_CHARM_FEMALE)  // SPWI929.SPL (?????????? ?????????)
END

IF
	See(LastTargetedBy(Myself))
	CheckStat(Myself,0,CLERIC_HALLOW)
	Global("validtarget","LOCALS",1)
	!CheckStat(LastTargetedBy(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
THEN
	RESPONSE #100
		SetGlobal("validtarget","LOCALS",0)
		ClearAllActions()
END

IF
	See(LastTargetedBy(Myself))
	CheckStatLT(Myself,3,CLERIC_HALLOW)
	Global("validtarget","LOCALS",1)
	CheckStatGT(LastTargetedBy(Myself),0,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
THEN
	RESPONSE #100
		SetGlobal("validtarget","LOCALS",0)
		ClearAllActions()
END

IF
	See(LastTargetedBy(Myself))
	CheckStat(Myself,3,CLERIC_HALLOW)
	Global("validtarget","LOCALS",1)
	CheckStatGT(LastTargetedBy(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
THEN
	RESPONSE #100
		SetGlobal("validtarget","LOCALS",0)
		ClearAllActions()
END

IF
	See(LastTargetedBy(Myself))
	CheckStat(Myself,4,CLERIC_HALLOW)
	Global("validtarget","LOCALS",1)
	CheckStatGT(LastTargetedBy(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
THEN
	RESPONSE #100
		SetGlobal("validtarget","LOCALS",0)
		ClearAllActions()
END

IF
	See(LastTargetedBy(Myself))
	!CheckStat(Myself,0,CLERIC_HALLOW)
	Global("validtarget","LOCALS",1)
	CheckStat(LastTargetedBy(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
THEN
	RESPONSE #100
		SetGlobal("validtarget","LOCALS",0)
		ClearAllActions()
END

IF
	ActionListEmpty()
	See(WorstAC)
	Allegiance(Myself,ENEMY)
	!Allegiance(WorstAC,ENEMY)
	!StateCheck(WorstAC,STATE_DISABLED)
	!CheckStatGT(WorstAC,0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(WorstAC,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(WorstAC,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(WorstAC,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(WorstAC,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(WorstAC,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",WorstAC)  // ??? ?????????????
	!Kit(WorstAC,UNDEADHUNTER)
	!CheckStatGT(WorstAC,0,SCRIPTINGSTATE3)
	InWeaponRange(WorstAC)
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(WorstAC)
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(WorstAC)
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE],ENEMY)
	!StateCheck([PC.0.0.MAGE],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE])  // ??? ?????????????
	!Kit([PC.0.0.MAGE],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.MAGE],0,SCRIPTINGSTATE3)
	InWeaponRange([PC.0.0.MAGE])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE])
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE])
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE_THIEF])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_THIEF],ENEMY)
	!StateCheck([PC.0.0.MAGE_THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_THIEF])  // ??? ?????????????
	!Kit([PC.0.0.MAGE_THIEF],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.MAGE_THIEF],0,SCRIPTINGSTATE3)
	InWeaponRange([PC.0.0.MAGE_THIEF])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE_THIEF])
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE_THIEF])
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE_ALL])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_ALL],ENEMY)
	!StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_ALL])  // ??? ?????????????
	!Kit([PC.0.0.MAGE_ALL],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.MAGE_ALL],0,SCRIPTINGSTATE3)
	InWeaponRange([PC.0.0.MAGE_ALL])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE_ALL])
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE_ALL])
END

IF
	ActionListEmpty()
	See([PC.0.0.THIEF])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF],ENEMY)
	!StateCheck([PC.0.0.THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF])  // ??? ?????????????
	!Kit([PC.0.0.THIEF],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.THIEF],0,SCRIPTINGSTATE3)
	InWeaponRange([PC.0.0.THIEF])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.THIEF])
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.THIEF])
END

IF
	ActionListEmpty()
	See([PC.0.0.BARD])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.BARD],ENEMY)
	!StateCheck([PC.0.0.BARD],STATE_DISABLED)
	!CheckStatGT([PC.0.0.BARD],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.BARD],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.BARD])  // ??? ?????????????
	!Kit([PC.0.0.BARD],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.BARD],0,SCRIPTINGSTATE3)
	InWeaponRange([PC.0.0.BARD])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.BARD])
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.BARD])
END

IF
	ActionListEmpty()
	See([PC.0.0.THIEF_ALL])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF_ALL],ENEMY)
	!StateCheck([PC.0.0.THIEF_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF_ALL])  // ??? ?????????????
	!Kit([PC.0.0.THIEF_ALL],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.THIEF_ALL],0,SCRIPTINGSTATE3)
	InWeaponRange([PC.0.0.THIEF_ALL])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.THIEF_ALL])
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.THIEF_ALL])
END

IF
	ActionListEmpty()
	See([PC.0.0.CLERIC])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.CLERIC],ENEMY)
	!StateCheck([PC.0.0.CLERIC],STATE_DISABLED)
	!CheckStatGT([PC.0.0.CLERIC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.CLERIC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.CLERIC])  // ??? ?????????????
	!Kit([PC.0.0.CLERIC],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.CLERIC],0,SCRIPTINGSTATE3)
	InWeaponRange([PC.0.0.CLERIC])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.CLERIC])
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.CLERIC])
END

IF
	ActionListEmpty()
	See([PC])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC],ENEMY)
	!StateCheck([PC],STATE_DISABLED)
	!CheckStatGT([PC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC])  // ??? ?????????????
	!Kit([PC],UNDEADHUNTER)
	!CheckStatGT([PC],0,SCRIPTINGSTATE3)
	InWeaponRange([PC])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC])
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC])
END

IF
	ActionListEmpty()
	See(SecondNearest([PC]))
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearest([PC]),ENEMY)
	!StateCheck(SecondNearest([PC]),STATE_DISABLED)
	!CheckStatGT(SecondNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SecondNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SecondNearest([PC]))  // ??? ?????????????
	!Kit(SecondNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(SecondNearest([PC]),0,SCRIPTINGSTATE3)
	InWeaponRange(SecondNearest([PC]))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(SecondNearest([PC]))
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(SecondNearest([PC]))
END

IF
	ActionListEmpty()
	See(ThirdNearest([PC]))
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearest([PC]),ENEMY)
	!StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	!CheckStatGT(ThirdNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(ThirdNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",ThirdNearest([PC]))  // ??? ?????????????
	!Kit(ThirdNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(ThirdNearest([PC]),0,SCRIPTINGSTATE3)
	InWeaponRange(ThirdNearest([PC]))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(ThirdNearest([PC]))
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(ThirdNearest([PC]))
END

IF
	ActionListEmpty()
	See(NearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(NearestEnemyOf(Myself),ENEMY)
	!StateCheck(NearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(NearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(NearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",NearestEnemyOf(Myself))  // ??? ?????????????
	!Kit(NearestEnemyOf(Myself),UNDEADHUNTER)
	!CheckStatGT(NearestEnemyOf(Myself),0,SCRIPTINGSTATE3)
	InWeaponRange(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(NearestEnemyOf(Myself))
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(NearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	See(SecondNearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearestEnemyOf(Myself),ENEMY)
	!StateCheck(SecondNearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(SecondNearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SecondNearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SecondNearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SecondNearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SecondNearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SecondNearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SecondNearestEnemyOf(Myself))  // ??? ?????????????
	!Kit(SecondNearestEnemyOf(Myself),UNDEADHUNTER)
	!CheckStatGT(SecondNearestEnemyOf(Myself),0,SCRIPTINGSTATE3)
	InWeaponRange(SecondNearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(SecondNearestEnemyOf(Myself))
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(SecondNearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	See(ThirdNearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearestEnemyOf(Myself),ENEMY)
	!StateCheck(ThirdNearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(ThirdNearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(ThirdNearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(ThirdNearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(ThirdNearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(ThirdNearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(ThirdNearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",ThirdNearestEnemyOf(Myself))  // ??? ?????????????
	!Kit(ThirdNearestEnemyOf(Myself),UNDEADHUNTER)
	!CheckStatGT(ThirdNearestEnemyOf(Myself),0,SCRIPTINGSTATE3)
	InWeaponRange(ThirdNearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(ThirdNearestEnemyOf(Myself))
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(ThirdNearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See(WorstAC)
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance(WorstAC,ENEMY)
	!StateCheck(WorstAC,STATE_DISABLED)
	!CheckStatGT(WorstAC,0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(WorstAC,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(WorstAC,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(WorstAC,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(WorstAC,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(WorstAC,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",WorstAC)  // ??? ?????????????
	!Kit(WorstAC,UNDEADHUNTER)
	!CheckStatGT(WorstAC,0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate(WorstAC,180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.MAGE])
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE],ENEMY)
	!StateCheck([PC.0.0.MAGE],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE])  // ??? ?????????????
	!Kit([PC.0.0.MAGE],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.MAGE],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate([PC.0.0.MAGE],180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.MAGE_THIEF])
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_THIEF],ENEMY)
	!StateCheck([PC.0.0.MAGE_THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_THIEF])  // ??? ?????????????
	!Kit([PC.0.0.MAGE_THIEF],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.MAGE_THIEF],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate([PC.0.0.MAGE_THIEF],180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.MAGE_ALL])
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_ALL],ENEMY)
	!StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_ALL])  // ??? ?????????????
	!Kit([PC.0.0.MAGE_ALL],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.MAGE_ALL],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate([PC.0.0.MAGE_ALL],180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.THIEF])
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF],ENEMY)
	!StateCheck([PC.0.0.THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF])  // ??? ?????????????
	!Kit([PC.0.0.THIEF],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.THIEF],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate([PC.0.0.THIEF],180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.BARD])
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.BARD],ENEMY)
	!StateCheck([PC.0.0.BARD],STATE_DISABLED)
	!CheckStatGT([PC.0.0.BARD],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.BARD],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.BARD])  // ??? ?????????????
	!Kit([PC.0.0.BARD],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.BARD],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate([PC.0.0.BARD],180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.THIEF_ALL])
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF_ALL],ENEMY)
	!StateCheck([PC.0.0.THIEF_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF_ALL])  // ??? ?????????????
	!Kit([PC.0.0.THIEF_ALL],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.THIEF_ALL],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate([PC.0.0.THIEF_ALL],180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.CLERIC])
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.CLERIC],ENEMY)
	!StateCheck([PC.0.0.CLERIC],STATE_DISABLED)
	!CheckStatGT([PC.0.0.CLERIC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.CLERIC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.CLERIC])  // ??? ?????????????
	!Kit([PC.0.0.CLERIC],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.CLERIC],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate([PC.0.0.CLERIC],180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC])
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC],ENEMY)
	!StateCheck([PC],STATE_DISABLED)
	!CheckStatGT([PC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC])  // ??? ?????????????
	!Kit([PC],UNDEADHUNTER)
	!CheckStatGT([PC],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate([PC],180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See(SecondNearest([PC]))
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearest([PC]),ENEMY)
	!StateCheck(SecondNearest([PC]),STATE_DISABLED)
	!CheckStatGT(SecondNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SecondNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SecondNearest([PC]))  // ??? ?????????????
	!Kit(SecondNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(SecondNearest([PC]),0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate(SecondNearest([PC]),180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See(ThirdNearest([PC]))
	Global("victimroute","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearest([PC]),ENEMY)
	!StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	!CheckStatGT(ThirdNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(ThirdNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",ThirdNearest([PC]))  // ??? ?????????????
	!Kit(ThirdNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(ThirdNearest([PC]),0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackReevaluate(ThirdNearest([PC]),180)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See(WorstAC)
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance(WorstAC,ENEMY)
	!StateCheck(WorstAC,STATE_DISABLED)
	!CheckStatGT(WorstAC,0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(WorstAC,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(WorstAC,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(WorstAC,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(WorstAC,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(WorstAC,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",WorstAC)  // ??? ?????????????
	!Kit(WorstAC,UNDEADHUNTER)
	!CheckStatGT(WorstAC,0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject(WorstAC)
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.MAGE])
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE],ENEMY)
	!StateCheck([PC.0.0.MAGE],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE])  // ??? ?????????????
	!Kit([PC.0.0.MAGE],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.MAGE],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject([PC.0.0.MAGE])
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.MAGE_THIEF])
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_THIEF],ENEMY)
	!StateCheck([PC.0.0.MAGE_THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_THIEF])  // ??? ?????????????
	!Kit([PC.0.0.MAGE_THIEF],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.MAGE_THIEF],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject([PC.0.0.MAGE_THIEF])
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.MAGE_ALL])
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_ALL],ENEMY)
	!StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_ALL])  // ??? ?????????????
	!Kit([PC.0.0.MAGE_ALL],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.MAGE_ALL],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject([PC.0.0.MAGE_ALL])
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.THIEF])
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF],ENEMY)
	!StateCheck([PC.0.0.THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF])  // ??? ?????????????
	!Kit([PC.0.0.THIEF],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.THIEF],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject([PC.0.0.THIEF])
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.BARD])
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.BARD],ENEMY)
	!StateCheck([PC.0.0.BARD],STATE_DISABLED)
	!CheckStatGT([PC.0.0.BARD],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.BARD],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.BARD])  // ??? ?????????????
	!Kit([PC.0.0.BARD],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.BARD],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject([PC.0.0.BARD])
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.THIEF_ALL])
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF_ALL],ENEMY)
	!StateCheck([PC.0.0.THIEF_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF_ALL])  // ??? ?????????????
	!Kit([PC.0.0.THIEF_ALL],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.THIEF_ALL],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject([PC.0.0.THIEF_ALL])
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC.0.0.CLERIC])
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.CLERIC],ENEMY)
	!StateCheck([PC.0.0.CLERIC],STATE_DISABLED)
	!CheckStatGT([PC.0.0.CLERIC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.CLERIC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.CLERIC])  // ??? ?????????????
	!Kit([PC.0.0.CLERIC],UNDEADHUNTER)
	!CheckStatGT([PC.0.0.CLERIC],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject([PC.0.0.CLERIC])
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See([PC])
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC],ENEMY)
	!StateCheck([PC],STATE_DISABLED)
	!CheckStatGT([PC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC])  // ??? ?????????????
	!Kit([PC],UNDEADHUNTER)
	!CheckStatGT([PC],0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject([PC])
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See(SecondNearest([PC]))
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearest([PC]),ENEMY)
	!StateCheck(SecondNearest([PC]),STATE_DISABLED)
	!CheckStatGT(SecondNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SecondNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SecondNearest([PC]))  // ??? ?????????????
	!Kit(SecondNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(SecondNearest([PC]),0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject(SecondNearest([PC]))
END

IF
	ActionListEmpty()
	!GlobalTimerNotExpired("seekvictim","LOCALS")
	See(ThirdNearest([PC]))
	Global("victimroute","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearest([PC]),ENEMY)
	!StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	!CheckStatGT(ThirdNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(ThirdNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",ThirdNearest([PC]))  // ??? ?????????????
	!Kit(ThirdNearest([PC]),UNDEADHUNTER)
	!CheckStatGT(ThirdNearest([PC]),0,SCRIPTINGSTATE3)
THEN
	RESPONSE #100
		SetGlobalTimer("seekvictim","LOCALS",FIVE_ROUNDS)
		SelectWeaponAbility(SLOT_WEAPON3,0)
		SetGlobal("batform","LOCALS",1)
		DisplayString(Myself,@88739)  // ??????????? ? ??????? ????
		MoveToObject(ThirdNearest([PC]))
END

IF
	ActionListEmpty()
	See(WorstAC)
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance(WorstAC,ENEMY)
	!StateCheck(WorstAC,STATE_DISABLED)
	!CheckStatGT(WorstAC,0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(WorstAC,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(WorstAC,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(WorstAC,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(WorstAC,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(WorstAC,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",WorstAC)  // ??? ?????????????
	InWeaponRange(WorstAC)
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(WorstAC)
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE])
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE],ENEMY)
	!StateCheck([PC.0.0.MAGE],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE])  // ??? ?????????????
	InWeaponRange([PC.0.0.MAGE])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE])
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE_THIEF])
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_THIEF],ENEMY)
	!StateCheck([PC.0.0.MAGE_THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_THIEF])  // ??? ?????????????
	InWeaponRange([PC.0.0.MAGE_THIEF])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE_THIEF])
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE_ALL])
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_ALL],ENEMY)
	!StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_ALL])  // ??? ?????????????
	InWeaponRange([PC.0.0.MAGE_ALL])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE_ALL])
END

IF
	ActionListEmpty()
	See([PC.0.0.THIEF])
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF],ENEMY)
	!StateCheck([PC.0.0.THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF])  // ??? ?????????????
	InWeaponRange([PC.0.0.THIEF])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.THIEF])
END

IF
	ActionListEmpty()
	See([PC.0.0.BARD])
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.BARD],ENEMY)
	!StateCheck([PC.0.0.BARD],STATE_DISABLED)
	!CheckStatGT([PC.0.0.BARD],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.BARD],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.BARD])  // ??? ?????????????
	InWeaponRange([PC.0.0.BARD])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.BARD])
END

IF
	ActionListEmpty()
	See([PC.0.0.THIEF_ALL])
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF_ALL],ENEMY)
	!StateCheck([PC.0.0.THIEF_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF_ALL])  // ??? ?????????????
	InWeaponRange([PC.0.0.THIEF_ALL])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.THIEF_ALL])
END

IF
	ActionListEmpty()
	See([PC.0.0.CLERIC])
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.CLERIC],ENEMY)
	!StateCheck([PC.0.0.CLERIC],STATE_DISABLED)
	!CheckStatGT([PC.0.0.CLERIC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.CLERIC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.CLERIC])  // ??? ?????????????
	InWeaponRange([PC.0.0.CLERIC])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.CLERIC])
END

IF
	ActionListEmpty()
	See([PC])
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC],ENEMY)
	!StateCheck([PC],STATE_DISABLED)
	!CheckStatGT([PC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC])  // ??? ?????????????
	InWeaponRange([PC])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC])
END

IF
	ActionListEmpty()
	See(SecondNearest([PC]))
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearest([PC]),ENEMY)
	!StateCheck(SecondNearest([PC]),STATE_DISABLED)
	!CheckStatGT(SecondNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SecondNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SecondNearest([PC]))  // ??? ?????????????
	InWeaponRange(SecondNearest([PC]))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(SecondNearest([PC]))
END

IF
	ActionListEmpty()
	See(ThirdNearest([PC]))
	Global("secondary","LOCALS",0)
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearest([PC]),ENEMY)
	!StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	!CheckStatGT(ThirdNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(ThirdNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",ThirdNearest([PC]))  // ??? ?????????????
	InWeaponRange(ThirdNearest([PC]))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(ThirdNearest([PC]))
END

IF
	ActionListEmpty()
	See(WorstAC)
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance(WorstAC,ENEMY)
	!StateCheck(WorstAC,STATE_DISABLED)
	!CheckStatGT(WorstAC,0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(WorstAC,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(WorstAC,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(WorstAC,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(WorstAC,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(WorstAC,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",WorstAC)  // ??? ?????????????
	InWeaponRange(WorstAC)
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(WorstAC)
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE])
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE],ENEMY)
	!StateCheck([PC.0.0.MAGE],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE])  // ??? ?????????????
	InWeaponRange([PC.0.0.MAGE])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE])
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE_THIEF])
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_THIEF],ENEMY)
	!StateCheck([PC.0.0.MAGE_THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_THIEF])  // ??? ?????????????
	InWeaponRange([PC.0.0.MAGE_THIEF])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE_THIEF])
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE_ALL])
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_ALL],ENEMY)
	!StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_ALL])  // ??? ?????????????
	InWeaponRange([PC.0.0.MAGE_ALL])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.MAGE_ALL])
END

IF
	ActionListEmpty()
	See([PC.0.0.THIEF])
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF],ENEMY)
	!StateCheck([PC.0.0.THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF])  // ??? ?????????????
	InWeaponRange([PC.0.0.THIEF])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.THIEF])
END

IF
	ActionListEmpty()
	See([PC.0.0.BARD])
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.BARD],ENEMY)
	!StateCheck([PC.0.0.BARD],STATE_DISABLED)
	!CheckStatGT([PC.0.0.BARD],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.BARD],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.BARD])  // ??? ?????????????
	InWeaponRange([PC.0.0.BARD])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.BARD])
END

IF
	ActionListEmpty()
	See([PC.0.0.THIEF_ALL])
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF_ALL],ENEMY)
	!StateCheck([PC.0.0.THIEF_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF_ALL])  // ??? ?????????????
	InWeaponRange([PC.0.0.THIEF_ALL])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.THIEF_ALL])
END

IF
	ActionListEmpty()
	See([PC.0.0.CLERIC])
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.CLERIC],ENEMY)
	!StateCheck([PC.0.0.CLERIC],STATE_DISABLED)
	!CheckStatGT([PC.0.0.CLERIC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.CLERIC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.CLERIC])  // ??? ?????????????
	InWeaponRange([PC.0.0.CLERIC])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC.0.0.CLERIC])
END

IF
	ActionListEmpty()
	See([PC])
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC],ENEMY)
	!StateCheck([PC],STATE_DISABLED)
	!CheckStatGT([PC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC])  // ??? ?????????????
	InWeaponRange([PC])
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound([PC])
END

IF
	ActionListEmpty()
	See(SecondNearest([PC]))
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearest([PC]),ENEMY)
	!StateCheck(SecondNearest([PC]),STATE_DISABLED)
	!CheckStatGT(SecondNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SecondNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SecondNearest([PC]))  // ??? ?????????????
	InWeaponRange(SecondNearest([PC]))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(SecondNearest([PC]))
END

IF
	ActionListEmpty()
	See(ThirdNearest([PC]))
	Global("secondary","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearest([PC]),ENEMY)
	!StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	!CheckStatGT(ThirdNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(ThirdNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",ThirdNearest([PC]))  // ??? ?????????????
	InWeaponRange(ThirdNearest([PC]))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON2,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(ThirdNearest([PC]))
END

IF
	See(Player4)
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player4)
END

IF
	See(Player5)
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player5)
END

IF
	See(Player6)
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player6)
END

IF
	See(Player3)
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player3)
END

IF
	See(Player2)
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player2)
END

IF
	See(Player1)
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player1)
END

IF
	False()
	See(NearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(NearestEnemyOf(Myself),ENEMY)
	!General(Myself,HUMANOID)
	OR(2)
		!General(Myself,GIANTHUMANOID)
		Race(Myself,GOLEM)
	OR(2)
		!General(Myself,UNDEAD)
		Race(Myself,ZOMBIE)
	!Race(Myself,LYCANTHROPE)
	!Race(Myself,DEMONIC)
	!Class(Myself,WOLF_VAMPIRIC)
	!Race(Myself,DRAGON)
	!Race(Myself,DOPPLEGANGER)
THEN
	RESPONSE #100
		NoAction()
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE])
	!HPPercentGT([PC.0.0.MAGE],40)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE],ENEMY)
	!StateCheck([PC.0.0.MAGE],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.MAGE])
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE_THIEF])
	!HPPercentGT([PC.0.0.MAGE_THIEF],40)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_THIEF],ENEMY)
	!StateCheck([PC.0.0.MAGE_THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_THIEF])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE_THIEF],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE_THIEF],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE_THIEF],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE_THIEF],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.MAGE_THIEF])
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE_ALL])
	!HPPercentGT([PC.0.0.MAGE_ALL],40)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_ALL],ENEMY)
	!StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_ALL])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE_ALL],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE_ALL],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE_ALL],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE_ALL],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.MAGE_ALL])
END

IF
	ActionListEmpty()
	See([PC.0.0.THIEF])
	!HPPercentGT([PC.0.0.THIEF],40)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF],ENEMY)
	!StateCheck([PC.0.0.THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.THIEF],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.THIEF],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.THIEF],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.THIEF],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.THIEF])
END

IF
	ActionListEmpty()
	See([PC.0.0.BARD])
	!HPPercentGT([PC.0.0.BARD],40)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.BARD],ENEMY)
	!StateCheck([PC.0.0.BARD],STATE_DISABLED)
	!CheckStatGT([PC.0.0.BARD],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.BARD],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.BARD])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.BARD],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.BARD],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.BARD],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.BARD],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.BARD])
END

IF
	ActionListEmpty()
	See([PC.0.0.THIEF_ALL])
	!HPPercentGT([PC.0.0.THIEF_ALL],40)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF_ALL],ENEMY)
	!StateCheck([PC.0.0.THIEF_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF_ALL])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.THIEF_ALL],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.THIEF_ALL],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.THIEF_ALL],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.THIEF_ALL],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.THIEF_ALL])
END

IF
	ActionListEmpty()
	See([PC.0.0.CLERIC])
	!HPPercentGT([PC.0.0.CLERIC],40)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.CLERIC],ENEMY)
	!StateCheck([PC.0.0.CLERIC],STATE_DISABLED)
	!CheckStatGT([PC.0.0.CLERIC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.CLERIC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.CLERIC])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.CLERIC],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.CLERIC],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.CLERIC],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.CLERIC],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.CLERIC])
END

IF
	ActionListEmpty()
	See([PC])
	!HPPercentGT([PC],40)
	Allegiance(Myself,ENEMY)
	!Allegiance([PC],ENEMY)
	!StateCheck([PC],STATE_DISABLED)
	!CheckStatGT([PC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC])
END

IF
	ActionListEmpty()
	See(SecondNearest([PC]))
	!HPPercentGT(SecondNearest([PC]),40)
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearest([PC]),ENEMY)
	!StateCheck(SecondNearest([PC]),STATE_DISABLED)
	!CheckStatGT(SecondNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SecondNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SecondNearest([PC]))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(SecondNearest([PC]),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(SecondNearest([PC]),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(SecondNearest([PC]),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(SecondNearest([PC]),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(SecondNearest([PC]))
END

IF
	ActionListEmpty()
	See(ThirdNearest([PC]))
	!HPPercentGT(ThirdNearest([PC]),40)
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearest([PC]),ENEMY)
	!StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	!CheckStatGT(ThirdNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(ThirdNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",ThirdNearest([PC]))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(ThirdNearest([PC]),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(ThirdNearest([PC]),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(ThirdNearest([PC]),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(ThirdNearest([PC]),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(ThirdNearest([PC]))
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE],ENEMY)
	!StateCheck([PC.0.0.MAGE],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.MAGE])
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE_THIEF])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_THIEF],ENEMY)
	!StateCheck([PC.0.0.MAGE_THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_THIEF])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE_THIEF],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE_THIEF],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE_THIEF],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE_THIEF],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.MAGE_THIEF])
END

IF
	ActionListEmpty()
	See([PC.0.0.MAGE_ALL])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.MAGE_ALL],ENEMY)
	!StateCheck([PC.0.0.MAGE_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.MAGE_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.MAGE_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.MAGE_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.MAGE_ALL])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE_ALL],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE_ALL],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.MAGE_ALL],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.MAGE_ALL],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.MAGE_ALL])
END

IF
	ActionListEmpty()
	See([PC.0.0.THIEF])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF],ENEMY)
	!StateCheck([PC.0.0.THIEF],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.THIEF],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.THIEF],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.THIEF],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.THIEF],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.THIEF])
END

IF
	ActionListEmpty()
	See([PC.0.0.BARD])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.BARD],ENEMY)
	!StateCheck([PC.0.0.BARD],STATE_DISABLED)
	!CheckStatGT([PC.0.0.BARD],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.BARD],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.BARD],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.BARD])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.BARD],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.BARD],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.BARD],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.BARD],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.BARD])
END

IF
	ActionListEmpty()
	See([PC.0.0.THIEF_ALL])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.THIEF_ALL],ENEMY)
	!StateCheck([PC.0.0.THIEF_ALL],STATE_DISABLED)
	!CheckStatGT([PC.0.0.THIEF_ALL],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.THIEF_ALL],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.THIEF_ALL],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.THIEF_ALL])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.THIEF_ALL],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.THIEF_ALL],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.THIEF_ALL],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.THIEF_ALL],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.THIEF_ALL])
END

IF
	ActionListEmpty()
	See([PC.0.0.CLERIC])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC.0.0.CLERIC],ENEMY)
	!StateCheck([PC.0.0.CLERIC],STATE_DISABLED)
	!CheckStatGT([PC.0.0.CLERIC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC.0.0.CLERIC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC.0.0.CLERIC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC.0.0.CLERIC])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.CLERIC],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.CLERIC],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC.0.0.CLERIC],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC.0.0.CLERIC],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC.0.0.CLERIC])
END

IF
	ActionListEmpty()
	See([PC])
	Allegiance(Myself,ENEMY)
	!Allegiance([PC],ENEMY)
	!StateCheck([PC],STATE_DISABLED)
	!CheckStatGT([PC],0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat([PC],0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat([PC],4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat([PC],1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat([PC],2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat([PC],3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",[PC])  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC],STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC],0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck([PC],STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT([PC],0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject([PC])
END

IF
	ActionListEmpty()
	See(SecondNearest([PC]))
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearest([PC]),ENEMY)
	!StateCheck(SecondNearest([PC]),STATE_DISABLED)
	!CheckStatGT(SecondNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SecondNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SecondNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SecondNearest([PC]))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(SecondNearest([PC]),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(SecondNearest([PC]),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(SecondNearest([PC]),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(SecondNearest([PC]),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(SecondNearest([PC]))
END

IF
	ActionListEmpty()
	See(ThirdNearest([PC]))
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearest([PC]),ENEMY)
	!StateCheck(ThirdNearest([PC]),STATE_DISABLED)
	!CheckStatGT(ThirdNearest([PC]),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(ThirdNearest([PC]),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(ThirdNearest([PC]),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",ThirdNearest([PC]))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(ThirdNearest([PC]),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(ThirdNearest([PC]),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(ThirdNearest([PC]),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(ThirdNearest([PC]),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(ThirdNearest([PC]))
END

IF
	ActionListEmpty()
	See(NearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(NearestEnemyOf(Myself),ENEMY)
	!StateCheck(NearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(NearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(NearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",NearestEnemyOf(Myself))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(NearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(NearestEnemyOf(Myself),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(NearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(NearestEnemyOf(Myself),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(NearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	See(SecondNearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(SecondNearestEnemyOf(Myself),ENEMY)
	!StateCheck(SecondNearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(SecondNearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SecondNearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SecondNearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SecondNearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SecondNearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SecondNearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SecondNearestEnemyOf(Myself))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(SecondNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(SecondNearestEnemyOf(Myself),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(SecondNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(SecondNearestEnemyOf(Myself),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(SecondNearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	See(ThirdNearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(ThirdNearestEnemyOf(Myself),ENEMY)
	!StateCheck(ThirdNearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(ThirdNearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(ThirdNearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(ThirdNearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(ThirdNearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(ThirdNearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(ThirdNearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",ThirdNearestEnemyOf(Myself))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(ThirdNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(ThirdNearestEnemyOf(Myself),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(ThirdNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(ThirdNearestEnemyOf(Myself),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(ThirdNearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	See(FourthNearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(FourthNearestEnemyOf(Myself),ENEMY)
	!StateCheck(FourthNearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(FourthNearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(FourthNearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(FourthNearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(FourthNearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(FourthNearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(FourthNearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",FourthNearestEnemyOf(Myself))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(FourthNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(FourthNearestEnemyOf(Myself),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(FourthNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(FourthNearestEnemyOf(Myself),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(FourthNearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	See(FifthNearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(FifthNearestEnemyOf(Myself),ENEMY)
	!StateCheck(FifthNearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(FifthNearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(FifthNearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(FifthNearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(FifthNearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(FifthNearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(FifthNearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",FifthNearestEnemyOf(Myself))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(FifthNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(FifthNearestEnemyOf(Myself),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(FifthNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(FifthNearestEnemyOf(Myself),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(FifthNearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	See(SixthNearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(SixthNearestEnemyOf(Myself),ENEMY)
	!StateCheck(SixthNearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(SixthNearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SixthNearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SixthNearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SixthNearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SixthNearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SixthNearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SixthNearestEnemyOf(Myself))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(SixthNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(SixthNearestEnemyOf(Myself),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(SixthNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(SixthNearestEnemyOf(Myself),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(SixthNearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	See(SeventhNearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(SeventhNearestEnemyOf(Myself),ENEMY)
	!StateCheck(SeventhNearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(SeventhNearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(SeventhNearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(SeventhNearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(SeventhNearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(SeventhNearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(SeventhNearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",SeventhNearestEnemyOf(Myself))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(SeventhNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(SeventhNearestEnemyOf(Myself),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(SeventhNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(SeventhNearestEnemyOf(Myself),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(SeventhNearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	See(EighthNearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	!Allegiance(EighthNearestEnemyOf(Myself),ENEMY)
	!StateCheck(EighthNearestEnemyOf(Myself),STATE_DISABLED)
	!CheckStatGT(EighthNearestEnemyOf(Myself),0,HELD)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(EighthNearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(EighthNearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(EighthNearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(EighthNearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(EighthNearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",EighthNearestEnemyOf(Myself))  // ??? ?????????????
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!StateCheck(EighthNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!StateCheck(Myself,STATE_INVISIBLE)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(EighthNearestEnemyOf(Myself),0,STONESKINS)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!StateCheck(EighthNearestEnemyOf(Myself),STATE_MIRRORIMAGE)
	OR(3)
		!CheckStat(Myself,4,SCRIPTINGSTATE4)
		!Class(Myself,THIEF_ALL)
		!CheckStatGT(EighthNearestEnemyOf(Myself),0,STONESKINS)
THEN
	RESPONSE #100
		MoveToObject(EighthNearestEnemyOf(Myself))
END

IF
	ActionListEmpty()
	See(Player4)
	Allegiance(Myself,ENEMY)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(Player4,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(Player4,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(Player4,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(Player4,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(Player4,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",Player4)  // ??? ?????????????
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player4)
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player4)
END

IF
	ActionListEmpty()
	See(Player5)
	Allegiance(Myself,ENEMY)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(Player5,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(Player5,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(Player5,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(Player5,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(Player5,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",Player5)  // ??? ?????????????
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player5)
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player5)
END

IF
	ActionListEmpty()
	See(Player6)
	Allegiance(Myself,ENEMY)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(Player6,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(Player6,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(Player6,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(Player6,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(Player6,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",Player6)  // ??? ?????????????
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player6)
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player6)
END

IF
	ActionListEmpty()
	See(Player3)
	Allegiance(Myself,ENEMY)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(Player3,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(Player3,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(Player3,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(Player3,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(Player3,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",Player3)  // ??? ?????????????
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player3)
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player3)
END

IF
	ActionListEmpty()
	See(Player2)
	Allegiance(Myself,ENEMY)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(Player2,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(Player2,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(Player2,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(Player2,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(Player2,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",Player2)  // ??? ?????????????
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player2)
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player2)
END

IF
	ActionListEmpty()
	See(Player1)
	Allegiance(Myself,ENEMY)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(Player1,0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(Player1,4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(Player1,1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(Player1,2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(Player1,3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",Player1)  // ??? ?????????????
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player1)
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(Player1)
END

IF
	ActionListEmpty()
	See(NearestEnemyOf(Myself))
	Allegiance(Myself,ENEMY)
	OR(3)
		CheckStatGT(Myself,0,CLERIC_HALLOW)
		CheckStat(NearestEnemyOf(Myself),0,WIZARD_PROTECTION_FROM_NORMAL_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStat(Myself,0,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),4,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,2,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),1,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,3,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),2,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	OR(3)
		CheckStatGT(Myself,4,CLERIC_HALLOW)
		!CheckStat(NearestEnemyOf(Myself),3,WIZARD_PROTECTION_FROM_MAGIC_WEAPONS)
		GlobalTimerNotExpired("seedefences","LOCALS")
	!HasItem("MORSWORD",NearestEnemyOf(Myself))  // ??? ?????????????
THEN
	RESPONSE #100
		SelectWeaponAbility(SLOT_WEAPON0,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(NearestEnemyOf(Myself))
	RESPONSE #50
		SelectWeaponAbility(SLOT_WEAPON1,0)
		SetGlobal("batform","LOCALS",0)
		AttackOneRound(NearestEnemyOf(Myself))
END

IF
	!GlobalTimerNotExpired("setmeleetarget","LOCALS")
	Allegiance(Myself,ENEMY)
	See(NearestEnemyOf(Myself))
	ActionListEmpty()
THEN
	RESPONSE #100
		AttackReevaluate(NearestEnemyOf(Myself),30)
END

IF
	!Allegiance(Myself,ENEMY)
	See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		AttackReevaluate(NearestEnemyOf(Myself),30)
END

IF
	!Allegiance(Myself,ENEMY)
	AttackedBy([ANYONE],DEFAULT)
THEN
	RESPONSE #100
		Attack(LastAttackerOf(Myself))
END

IF
	!Global("chasing","LOCALS",0)
	See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		SetGlobal("chasing","LOCALS",0)
		Continue()
END

IF
	ActionListEmpty()
	Global("inafight","LOCALS",1)
	Allegiance(Myself,ENEMY)
	!See(NearestEnemyOf(Myself))
	Global("chasing","LOCALS",0)
	!Global("chasePC","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobalTimer("chasetimer","LOCALS",8)
		SetGlobal("chasing","LOCALS",1)
END

IF
	!See(NearestEnemyOf(Myself))
	GlobalTimerExpired("chasetimer","LOCALS")
	!Global("inafight","LOCALS",0)
	!Global("chasePC","LOCALS",0)
THEN
	RESPONSE #100
		SetGlobal("inafight","LOCALS",0)
		SetGlobal("chasePC","LOCALS",0)
END

IF
	GlobalTimerNotExpired("chasetimer","LOCALS")
	Global("chasePC","LOCALS",1)
	!See(NearestEnemyOf(Myself))
	!Detect(Player1)
THEN
	RESPONSE #100
		MoveToObject(Player1)
END

IF
	GlobalTimerNotExpired("chasetimer","LOCALS")
	Global("chasePC","LOCALS",2)
	!See(NearestEnemyOf(Myself))
	!Detect(Player2)
THEN
	RESPONSE #100
		MoveToObject(Player2)
END

IF
	GlobalTimerNotExpired("chasetimer","LOCALS")
	Global("chasePC","LOCALS",3)
	!See(NearestEnemyOf(Myself))
	!Detect(Player3)
THEN
	RESPONSE #100
		MoveToObject(Player3)
END

IF
	GlobalTimerNotExpired("chasetimer","LOCALS")
	Global("chasePC","LOCALS",4)
	!See(NearestEnemyOf(Myself))
	!Detect(Player4)
THEN
	RESPONSE #100
		MoveToObject(Player4)
END

IF
	GlobalTimerNotExpired("chasetimer","LOCALS")
	Global("chasePC","LOCALS",5)
	!See(NearestEnemyOf(Myself))
	!Detect(Player5)
THEN
	RESPONSE #100
		MoveToObject(Player5)
END

IF
	GlobalTimerNotExpired("chasetimer","LOCALS")
	Global("chasePC","LOCALS",6)
	!See(NearestEnemyOf(Myself))
	!Detect(Player6)
THEN
	RESPONSE #100
		MoveToObject(Player6)
END

